{"version":3,"file":"index.umd.js","sources":["../src/DefaultLinkSuggestServiceProvider.ts","../src/componentInit.ts","../src/linkType.ts","../src/index.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { inject, injectable } from \"inversify\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\nimport type { LinkSuggestService } from \"./linkSuggestService\";\nimport type { CristalApp } from \"@xwiki/platform-api\";\n\n/**\n * @since 0.11\n * @beta\n */\n@injectable()\nclass DefaultLinkSuggestServiceProvider implements LinkSuggestServiceProvider {\n  constructor(@inject(\"CristalApp\") private cristalApp: CristalApp) {}\n\n  get(type?: string): LinkSuggestService | undefined {\n    const resolvedType = type || this.cristalApp.getWikiConfig().getType();\n    try {\n      return this.cristalApp\n        .getContainer()\n        .get(\"LinkSuggestService\", { name: resolvedType });\n    } catch (e) {\n      this.cristalApp\n        .getLogger(\"link.suggest.api\")\n        .warn(\n          `Couldn't resolve LinkSuggestService for type=[${resolvedType}]`,\n          e,\n        );\n      return undefined;\n    }\n  }\n}\n\nexport { DefaultLinkSuggestServiceProvider };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\nimport { DefaultLinkSuggestServiceProvider } from \"./DefaultLinkSuggestServiceProvider\";\nimport { Container } from \"inversify\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\n\n/**\n * @since 0.11\n * @beta\n */\nclass ComponentInit {\n  constructor(container: Container) {\n    container\n      .bind<LinkSuggestServiceProvider>(\"LinkSuggestServiceProvider\")\n      .to(DefaultLinkSuggestServiceProvider)\n      .inSingletonScope();\n  }\n}\n\nexport { ComponentInit };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n *\n * @since 0.11\n * @beta\n */\nenum LinkType {\n  PAGE,\n  ATTACHMENT,\n}\n\nexport { LinkType };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { ComponentInit } from \"./componentInit\";\nimport { LinkType } from \"./linkType\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\nimport type { Link } from \"./link\";\nimport type { LinkSuggestService } from \"./linkSuggestService\";\n\n/**\n * The component id of LinkSuggestService.\n * @since 0.8\n * @beta\n */\nconst name = \"LinkSuggestService\";\n\nexport {\n  ComponentInit,\n  type Link,\n  type LinkSuggestService,\n  type LinkSuggestServiceProvider,\n  LinkType,\n  name,\n};\n"],"names":["DefaultLinkSuggestServiceProvider","cristalApp","type","resolvedType","e","__decorateClass","injectable","__decorateParam","ComponentInit","container","LinkType","name"],"mappings":"ucA8BA,IAAMA,EAAN,KAA8E,CAC5E,YAA0CC,EAAwB,CAAxB,KAAA,WAAAA,CAAyB,CAEnE,IAAIC,EAA+C,CACjD,MAAMC,EAAeD,GAAQ,KAAK,WAAW,cAAA,EAAgB,QAAA,EAC7D,GAAI,CACF,OAAO,KAAK,WACT,aAAA,EACA,IAAI,qBAAsB,CAAE,KAAMC,EAAc,CACrD,OAASC,EAAG,CACV,KAAK,WACF,UAAU,kBAAkB,EAC5B,KACC,iDAAiDD,CAAY,IAC7DC,CAAA,EAEJ,MACF,CACF,CACF,EAnBMJ,EAANK,EAAA,CADCC,aAAA,EAEcC,aAAO,YAAY,CAAA,CAAA,EAD5BP,CAAA,ECHN,MAAMQ,CAAc,CAClB,YAAYC,EAAsB,CAChCA,EACG,KAAiC,4BAA4B,EAC7D,GAAGT,CAAiC,EACpC,iBAAA,CACL,CACF,CCZA,IAAKU,GAAAA,IACHA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,WAAA,CAAA,EAAA,aAFGA,IAAAA,GAAA,CAAA,CAAA,ECSL,MAAMC,EAAO"}