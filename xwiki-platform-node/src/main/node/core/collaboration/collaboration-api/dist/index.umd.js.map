{"version":3,"file":"index.umd.js","sources":["../src/collaborationManagerName.ts","../src/collaborationManagerProviderName.ts","../src/defaultCollaborationManagerProvider.ts","../src/componentInit.ts","../src/status.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\n/**\n * @beta\n */\nconst collaborationManagerName: string = \"collaborationManager\";\n\nexport { collaborationManagerName };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\n/**\n * @beta\n */\nconst collaborationManagerProviderName: string = \"collaborationManagerProvider\";\n\nexport { collaborationManagerProviderName };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { collaborationManagerName } from \"./collaborationManagerName\";\nimport { inject, injectable } from \"inversify\";\nimport type { CollaborationManager } from \"./collaborationManager\";\nimport type { CollaborationManagerProvider } from \"./collaborationManagerProvider\";\nimport type { CristalApp } from \"@xwiki/platform-api\";\n\n/**\n * @since 0.20\n * @beta\n */\n@injectable()\nexport class DefaultCollaborationManagerProvider\n  implements CollaborationManagerProvider\n{\n  constructor(@inject(\"CristalApp\") private readonly cristalApp: CristalApp) {}\n\n  get(): CollaborationManager {\n    const hint = this.cristalApp.getWikiConfig().realtimeHint;\n    const container = this.cristalApp.getContainer();\n    if (hint && container.isBound(collaborationManagerName, { name: hint })) {\n      return container.get(collaborationManagerName, { name: hint });\n    } else {\n      return container.get(collaborationManagerName);\n    }\n  }\n}\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { collaborationManagerProviderName } from \"./collaborationManagerProviderName\";\nimport { DefaultCollaborationManagerProvider } from \"./defaultCollaborationManagerProvider\";\nimport type { CollaborationManagerProvider } from \"./collaborationManagerProvider\";\nimport type { Container } from \"inversify\";\n\n/**\n * @since 0.20\n * @beta\n */\nclass ComponentInit {\n  constructor(container: Container) {\n    container\n      .bind<CollaborationManagerProvider>(collaborationManagerProviderName)\n      .to(DefaultCollaborationManagerProvider)\n      .inSingletonScope();\n  }\n}\n\nexport { ComponentInit };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\n/**\n * Set of allowed provider states.\n *\n * @since 0.20\n * @beta\n */\nexport enum Status {\n  Disconnected,\n  Connecting,\n  Connected,\n}\n"],"names":["collaborationManagerName","collaborationManagerProviderName","DefaultCollaborationManagerProvider","cristalApp","hint","container","__decorateClass","injectable","__decorateParam","ComponentInit","Status"],"mappings":"mSAuBA,MAAMA,EAAmC,uBCAnCC,EAA2C,oMCQ1C,IAAMC,EAAN,KAEP,CACE,YAAmDC,EAAwB,CAAxB,KAAA,WAAAA,CAAyB,CAE5E,KAA4B,CAC1B,MAAMC,EAAO,KAAK,WAAW,cAAA,EAAgB,aACvCC,EAAY,KAAK,WAAW,aAAA,EAClC,OAAID,GAAQC,EAAU,QAAQL,EAA0B,CAAE,KAAMI,CAAA,CAAM,EAC7DC,EAAU,IAAIL,EAA0B,CAAE,KAAMI,EAAM,EAEtDC,EAAU,IAAIL,CAAwB,CAEjD,CACF,EAdaE,EAANI,EAAA,CADNC,aAAA,EAIcC,aAAO,YAAY,CAAA,CAAA,EAHrBN,CAAA,ECFb,MAAMO,CAAc,CAClB,YAAYJ,EAAsB,CAChCA,EACG,KAAmCJ,CAAgC,EACnE,GAAGC,CAAmC,EACtC,iBAAA,CACL,CACF,CCVO,IAAKQ,GAAAA,IACVA,EAAAA,EAAA,aAAA,CAAA,EAAA,eACAA,EAAAA,EAAA,WAAA,CAAA,EAAA,aACAA,EAAAA,EAAA,UAAA,CAAA,EAAA,YAHUA,IAAAA,GAAA,CAAA,CAAA"}