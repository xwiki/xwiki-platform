<?xml version="1.0" encoding="UTF-8"?>

<!--
 * See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.xwiki.platform</groupId>
    <artifactId>xwiki-platform</artifactId>
    <version>10.5-SNAPSHOT</version>
  </parent>
  <artifactId>xwiki-platform-core</artifactId>
  <name>XWiki Platform - Core - Parent POM</name>
  <packaging>pom</packaging>
  <description>XWiki Platform - Core - Parent POM</description>
  <properties>
    <!-- JS/CSS minification is on by default, this property is used in order to able to skip minification when the
         debug profile is active. It can also be used from the command line to skip minification -->
    <xwiki.minification.skip>false</xwiki.minification.skip>
  </properties>
  <build>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jar-plugin</artifactId>
          <configuration>
            <archive>
              <!-- Use the manifest file generated by the OSGi Maven Bundle Plugin -->
              <manifestFile>${project.build.outputDirectory}/META-INF/MANIFEST.MF</manifestFile>
            </archive>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-surefire-plugin</artifactId>
          <configuration>
            <systemProperties combine.children="append">
              <!-- Tells XWiki Platform Test module to generate screenshots in the target dir when a test is failing -->
              <!-- TODO: Remove this property once all functional tests have been moved to use the failsafe plugin -->
              <property>
                <name>screenshotDirectory</name>
                <value>${basedir}/target/screenshots</value>
              </property>
            </systemProperties>
            <!-- Verify that unit tests don't output anything to stdout/stderr -->
            <properties>
              <property>
                <name>listener</name>
                <value>org.xwiki.test.CaptureConsoleRunListener</value>
              </property>
            </properties>
          </configuration>
          <dependencies>
            <dependency>
              <groupId>org.xwiki.commons</groupId>
              <artifactId>xwiki-commons-tool-test-simple</artifactId>
              <version>${commons.version}</version>
            </dependency>
          </dependencies>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-failsafe-plugin</artifactId>
          <configuration>
            <systemProperties combine.children="append">
              <!-- Tells XWiki Platform Test module to generate screenshots in the target dir when a test is failing -->
              <property>
                <name>screenshotDirectory</name>
                <value>${basedir}/target/screenshots</value>
              </property>
            </systemProperties>
          </configuration>
        </plugin>
        <plugin>
          <groupId>net.alchim31.maven</groupId>
          <artifactId>yuicompressor-maven-plugin</artifactId>
          <configuration>
            <skip>${xwiki.minification.skip}</skip>
            <!-- We prefer to use the JSHint Maven Plugin because it gives us more control over the validation rules. -->
            <jswarn>false</jswarn>
            <!-- The default suffix uses the dash as separator (-min) but we prefer the dot (.min) because it is
              currently more widely used in the JavaScript world. -->
            <suffix>.min</suffix>
          </configuration>
        </plugin>
        <plugin>
          <groupId>com.cj.jshintmojo</groupId>
          <artifactId>jshint-maven-plugin</artifactId>
          <version>1.6.0</version>
          <executions>
            <execution>
              <goals>
                <goal>lint</goal>
              </goals>
            </execution>
          </executions>
          <configuration>
            <globals>require,define</globals>
            <!-- See https://github.com/jshint/jshint/blob/master/examples/.jshintrc -->
            <options>camelcase,maxparams:5,maxdepth:3,maxstatements:20,maxcomplexity:10,maxlen:120</options>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>
      <!-- Generate OSGi Manifest information to all XWiki Core JARs -->
      <plugin>
        <groupId>org.apache.felix</groupId>
        <artifactId>maven-bundle-plugin</artifactId>
        <executions>
          <execution>
            <id>bundle-manifest</id>
            <phase>process-classes</phase>
            <goals>
              <goal>manifest</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.revapi</groupId>
        <artifactId>revapi-maven-plugin</artifactId>
        <configuration>
          <analysisConfiguration><![CDATA[
            {
              "revapi": {
                "filter": {
                  // We're ignoring all API incompatibilities from XWiki dependencies (i.e. commons and rendering)
                  // since they're already covered by their own builds and we release all of them together.
                  "archives": {
                    "exclude": ["org\\.xwiki\\.commons:.*:.*", "org\\.xwiki\\.rendering:.*:.*"]
                  }
                },
                "ignore" : [
                  // Revapi bug, see https://github.com/revapi/revapi/issues/129
                  {
                    "code": "java.method.removed",
                    "old": "method javax.servlet.AsyncContext javax.servlet.ServletRequest::getAsyncContext() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getAsyncContext",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.returnTypeTypeParametersChanged",
                    "old": "method java.util.Enumeration<java.lang.String> javax.servlet.ServletRequest::getAttributeNames() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "new": "method java.util.Enumeration javax.servlet.ServletRequest::getAttributeNames() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "oldType": "java.util.Enumeration<java.lang.String>",
                    "newType": "java.util.Enumeration",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getAttributeNames",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method javax.servlet.DispatcherType javax.servlet.ServletRequest::getDispatcherType() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getDispatcherType",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.returnTypeTypeParametersChanged",
                    "old": "method java.util.Enumeration<java.util.Locale> javax.servlet.ServletRequest::getLocales() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "new": "method java.util.Enumeration javax.servlet.ServletRequest::getLocales() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "oldType": "java.util.Enumeration<java.util.Locale>",
                    "newType": "java.util.Enumeration",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getLocales",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.returnTypeTypeParametersChanged",
                    "old": "method java.util.Map<java.lang.String, java.lang.String[]> javax.servlet.ServletRequest::getParameterMap() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "new": "method java.util.Map javax.servlet.ServletRequest::getParameterMap() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "oldType": "java.util.Map<java.lang.String, java.lang.String[]>",
                    "newType": "java.util.Map",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getParameterMap",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.returnTypeTypeParametersChanged",
                    "old": "method java.util.Enumeration<java.lang.String> javax.servlet.ServletRequest::getParameterNames() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "new": "method java.util.Enumeration javax.servlet.ServletRequest::getParameterNames() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "oldType": "java.util.Enumeration<java.lang.String>",
                    "newType": "java.util.Enumeration",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getParameterNames",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method javax.servlet.ServletContext javax.servlet.ServletRequest::getServletContext() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "getServletContext",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method boolean javax.servlet.ServletRequest::isAsyncStarted() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "isAsyncStarted",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method boolean javax.servlet.ServletRequest::isAsyncSupported() @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "isAsyncSupported",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method javax.servlet.AsyncContext javax.servlet.ServletRequest::startAsync() throws java.lang.IllegalStateException @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "startAsync",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method javax.servlet.AsyncContext javax.servlet.ServletRequest::startAsync(javax.servlet.ServletRequest, javax.servlet.ServletResponse) throws java.lang.IllegalStateException @ org.xwiki.wysiwyg.filter.MutableServletRequest",
                    "package": "org.xwiki.wysiwyg.filter",
                    "classSimpleName": "MutableServletRequest",
                    "methodName": "startAsync",
                    "elementKind": "method",
                    "justification": "revapi bug"
                  },
                  {
                    "regex": true,
                    "code": "java\.class\.removed",
                    "package": "org\.xwiki\.query\.jpql\..*",
                    "justification": "Classes moved to the internal package as they were not supposed to be public"
                  },

                  // Add more ignores below...
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method boolean org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.NotificationFormat)",
                    "new": "method org.xwiki.notifications.filters.NotificationFilter.FilterPolicy org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.NotificationFormat)",
                    "oldType": "boolean",
                    "newType": "org.xwiki.notifications.filters.NotificationFilter.FilterPolicy",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterEvent",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method boolean org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.NotificationFormat)",
                    "new": "method org.xwiki.notifications.filters.NotificationFilter.FilterPolicy org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.NotificationFormat)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterEvent",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method boolean org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.NotificationFormat)",
                    "new": "method org.xwiki.notifications.filters.NotificationFilter.FilterPolicy org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.NotificationFormat)",
                    "oldType": "boolean",
                    "newType": "org.xwiki.notifications.filters.NotificationFilter.FilterPolicy",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterEvent",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method org.xwiki.notifications.filters.expression.ExpressionNode org.xwiki.notifications.filters.NotificationFilter::filterExpression(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat)",
                    "new": "method org.xwiki.notifications.filters.expression.ExpressionNode org.xwiki.notifications.filters.NotificationFilter::filterExpression(org.xwiki.model.reference.DocumentReference, java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterExpression",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method org.xwiki.notifications.filters.expression.ExpressionNode org.xwiki.notifications.filters.NotificationFilter::filterExpression(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.preferences.NotificationPreference)",
                    "new": "method org.xwiki.notifications.filters.expression.ExpressionNode org.xwiki.notifications.filters.NotificationFilter::filterExpression(org.xwiki.model.reference.DocumentReference, java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.preferences.NotificationPreference)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterExpression",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilter>",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getAllFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(boolean) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getAllFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getEnabledFilters(java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>, java.util.Map<java.lang.String, java.lang.Boolean>)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getEnabledFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.parameterTypeChanged",
                    "old": "parameter java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===org.xwiki.model.reference.DocumentReference===, org.xwiki.notifications.filters.NotificationFilter) throws org.xwiki.notifications.NotificationException",
                    "new": "parameter java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>===, org.xwiki.notifications.filters.NotificationFilter)",
                    "oldType": "org.xwiki.model.reference.DocumentReference",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "parameterIndex": "0",
                    "elementKind": "parameter",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter)",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "newType": "java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedRemoved",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter)",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.parameterTypeChanged",
                    "old": "parameter java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===org.xwiki.model.reference.DocumentReference===, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType) throws org.xwiki.notifications.NotificationException",
                    "new": "parameter java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>===, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType)",
                    "oldType": "org.xwiki.model.reference.DocumentReference",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "parameterIndex": "0",
                    "elementKind": "parameter",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType)",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "newType": "java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedRemoved",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType)",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.parameterTypeChanged",
                    "old": "parameter java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===org.xwiki.model.reference.DocumentReference===, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat) throws org.xwiki.notifications.NotificationException",
                    "new": "parameter java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(===java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>===, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat)",
                    "oldType": "org.xwiki.model.reference.DocumentReference",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "parameterIndex": "0",
                    "elementKind": "parameter",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat)",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "newType": "java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedRemoved",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilterPreference> org.xwiki.notifications.filters.NotificationFilterManager::getFilterPreferences(java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.filters.NotificationFilter, org.xwiki.notifications.filters.NotificationFilterType, org.xwiki.notifications.NotificationFormat)",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilterPreferences",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.removed",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getFilters(org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.preferences.NotificationPreference) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getFiltersRelatedToNotificationPreference(java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>, org.xwiki.notifications.preferences.NotificationPreference)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getFiltersRelatedToNotificationPreference",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.parameterTypeChanged",
                    "old": "parameter java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(===org.xwiki.model.reference.DocumentReference===) throws org.xwiki.notifications.NotificationException",
                    "new": "parameter java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(===java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>===)",
                    "oldType": "org.xwiki.model.reference.DocumentReference",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getToggleableFilters",
                    "parameterIndex": "0",
                    "elementKind": "parameter",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>)",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilter>",
                    "newType": "java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getToggleableFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedRemoved",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.stream.Stream<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getToggleableFilters(java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>)",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getToggleableFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.script.NotificationFiltersScriptService::getFilters() throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.script.NotificationFiltersScriptService::getFilters() throws org.xwiki.notifications.NotificationException",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilter>",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>",
                    "package": "org.xwiki.notifications.filters.script",
                    "classSimpleName": "NotificationFiltersScriptService",
                    "methodName": "getFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedAdded",
                    "old": "method boolean org.xwiki.notifications.filters.watch.WatchedEntityReference::isWatched(org.xwiki.model.reference.DocumentReference)",
                    "new": "method boolean org.xwiki.notifications.filters.watch.WatchedEntityReference::isWatched(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedEntityReference",
                    "methodName": "isWatched",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method void org.xwiki.notifications.filters.watch.WatchedLocationReference::<init>(org.xwiki.model.reference.EntityReference, java.lang.String, org.xwiki.model.reference.EntityReferenceResolver<java.lang.String>, org.xwiki.notifications.filters.internal.scope.ScopeNotificationFilterLocationStateComputer)",
                    "new": "method void org.xwiki.notifications.filters.watch.WatchedLocationReference::<init>(org.xwiki.model.reference.EntityReference, java.lang.String, org.xwiki.model.reference.EntityReferenceResolver<java.lang.String>, org.xwiki.notifications.filters.internal.scope.ScopeNotificationFilterLocationStateComputer, org.xwiki.notifications.filters.NotificationFilterManager)",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedLocationReference",
                    "methodName": "<init>",
                    "elementKind": "constructor",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedAdded",
                    "old": "method boolean org.xwiki.notifications.filters.watch.WatchedLocationReference::isWatched(org.xwiki.model.reference.DocumentReference)",
                    "new": "method boolean org.xwiki.notifications.filters.watch.WatchedLocationReference::isWatched(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedLocationReference",
                    "methodName": "isWatched",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method void org.xwiki.notifications.filters.watch.WatchedUserReference::<init>(java.lang.String, org.xwiki.notifications.filters.internal.user.EventUserFilterPreferencesGetter)",
                    "new": "method void org.xwiki.notifications.filters.watch.WatchedUserReference::<init>(java.lang.String, org.xwiki.notifications.filters.internal.user.EventUserFilterPreferencesGetter, org.xwiki.notifications.filters.NotificationFilterManager)",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedUserReference",
                    "methodName": "<init>",
                    "elementKind": "constructor",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.exception.checkedAdded",
                    "old": "method boolean org.xwiki.notifications.filters.watch.WatchedUserReference::isWatched(org.xwiki.model.reference.DocumentReference)",
                    "new": "method boolean org.xwiki.notifications.filters.watch.WatchedUserReference::isWatched(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "exception": "org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedUserReference",
                    "methodName": "isWatched",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method java.util.Map<java.lang.String, java.lang.Boolean> org.xwiki.notifications.filters.NotificationFilterManager::getToggeableFilterActivations(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getToggeableFilterActivations",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method org.xwiki.notifications.filters.NotificationFilter.FilterPolicy org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, org.xwiki.notifications.NotificationFormat)",
                    "new": "method org.xwiki.notifications.filters.NotificationFilter.FilterPolicy org.xwiki.notifications.filters.NotificationFilter::filterEvent(org.xwiki.eventstream.Event, org.xwiki.model.reference.DocumentReference, java.util.Collection<org.xwiki.notifications.filters.NotificationFilterPreference>, org.xwiki.notifications.NotificationFormat)",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilter",
                    "methodName": "filterEvent",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method java.util.Collection<java.lang.String> org.xwiki.notifications.filters.watch.WatchedEntitiesManager::getWatchedUsers(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters.watch",
                    "classSimpleName": "WatchedEntitiesManager",
                    "methodName": "getWatchedUsers",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.numberOfParametersChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference, boolean) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getAllFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.returnTypeChanged",
                    "old": "method java.util.Set<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference) throws org.xwiki.notifications.NotificationException",
                    "new": "method java.util.Collection<org.xwiki.notifications.filters.NotificationFilter> org.xwiki.notifications.filters.NotificationFilterManager::getAllFilters(org.xwiki.model.reference.DocumentReference, boolean) throws org.xwiki.notifications.NotificationException",
                    "oldType": "java.util.Set<org.xwiki.notifications.filters.NotificationFilter>",
                    "newType": "java.util.Collection<org.xwiki.notifications.filters.NotificationFilter>",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "getAllFilters",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method void org.xwiki.notifications.filters.NotificationFilterManager::setStartDateForUser(org.xwiki.model.reference.DocumentReference, java.util.Date) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterManager",
                    "methodName": "setStartDateForUser",
                    "elementKind": "method",
                    "justification": "Young API"
                  },
                  {
                    "code": "java.method.addedToInterface",
                    "new": "method void org.xwiki.notifications.filters.NotificationFilterPreferenceProvider::setStartDateForUser(org.xwiki.model.reference.DocumentReference, java.util.Date) throws org.xwiki.notifications.NotificationException",
                    "package": "org.xwiki.notifications.filters",
                    "classSimpleName": "NotificationFilterPreferenceProvider",
                    "methodName": "setStartDateForUser",
                    "elementKind": "method",
                    "justification": "Young API"
                  }
                ]
              }
            }
          ]]></analysisConfiguration>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <modules>
    <!-- Sorted Alphabetically -->
    <module>xwiki-platform-activeinstalls</module>
    <module>xwiki-platform-activitystream</module>
    <module>xwiki-platform-administration</module>
    <module>xwiki-platform-alerts</module>
    <module>xwiki-platform-annotations</module>
    <module>xwiki-platform-application</module>
    <module>xwiki-platform-appwithinminutes</module>
    <module>xwiki-platform-attachment</module>
    <module>xwiki-platform-autotag</module>
    <module>xwiki-platform-bridge</module>
    <module>xwiki-platform-captcha</module>
    <module>xwiki-platform-chart</module>
    <module>xwiki-platform-classloader</module>
    <module>xwiki-platform-component</module>
    <module>xwiki-platform-configuration</module>
    <module>xwiki-platform-containers</module>
    <module>xwiki-platform-crypto</module>
    <module>xwiki-platform-csrf</module>
    <module>xwiki-platform-dashboard</module>
    <module>xwiki-platform-diffplugin</module>
    <module>xwiki-platform-display</module>
    <module>xwiki-platform-edit</module>
    <module>xwiki-platform-eventstream</module>
    <module>xwiki-platform-extension</module>
    <module>xwiki-platform-feed</module>
    <module>xwiki-platform-filter</module>
    <module>xwiki-platform-flamingo</module>
    <module>xwiki-platform-flavor</module>
    <module>xwiki-platform-formula</module>
    <module>xwiki-platform-graphviz</module>
    <module>xwiki-platform-groovy</module>
    <module>xwiki-platform-help</module>
    <module>xwiki-platform-icon</module>
    <module>xwiki-platform-image</module>
    <module>xwiki-platform-index</module>
    <module>xwiki-platform-instance</module>
    <module>xwiki-platform-invitation</module>
    <module>xwiki-platform-job</module>
    <module>xwiki-platform-jodatime</module>
    <module>xwiki-platform-lesscss</module>
    <module>xwiki-platform-linkchecker</module>
    <module>xwiki-platform-livetable</module>
    <module>xwiki-platform-localization</module>
    <module>xwiki-platform-logging</module>
    <module>xwiki-platform-mail</module>
    <module>xwiki-platform-mailsender</module>
    <module>xwiki-platform-menu</module>
    <module>xwiki-platform-messagestream</module>
    <module>xwiki-platform-model</module>
    <module>xwiki-platform-notifications</module>
    <module>xwiki-platform-observation</module>
    <module>xwiki-platform-office</module>
    <module>xwiki-platform-oldcore</module>
    <module>xwiki-platform-panels</module>
    <module>xwiki-platform-query</module>
    <module>xwiki-platform-ratings</module>
    <module>xwiki-platform-refactoring</module>
    <module>xwiki-platform-release</module>
    <module>xwiki-platform-rendering</module>
    <module>xwiki-platform-repository</module>
    <module>xwiki-platform-resource</module>
    <module>xwiki-platform-rest</module>
    <module>xwiki-platform-sandbox</module>
    <module>xwiki-platform-sharepage</module>
    <module>xwiki-platform-scheduler</module>
    <module>xwiki-platform-search</module>
    <module>xwiki-platform-security</module>
    <module>xwiki-platform-sheet</module>
    <module>xwiki-platform-skin</module>
    <module>xwiki-platform-statistics</module>
    <module>xwiki-platform-store</module>
    <module>xwiki-platform-svg</module>
    <module>xwiki-platform-tag</module>
    <module>xwiki-platform-template</module>
    <module>xwiki-platform-test</module>
    <module>xwiki-platform-tika</module>
    <module>xwiki-platform-tree</module>
    <module>xwiki-platform-user</module>
    <module>xwiki-platform-uiextension</module>
    <module>xwiki-platform-url</module>
    <module>xwiki-platform-velocity</module>
    <module>xwiki-platform-vfs</module>
    <module>xwiki-platform-watchlist</module>
    <module>xwiki-platform-web</module>
    <module>xwiki-platform-webjars</module>
    <module>xwiki-platform-wiki</module>
    <module>xwiki-platform-wysiwyg</module>
    <module>xwiki-platform-xar</module>
    <module>xwiki-platform-xclass</module>
    <module>xwiki-platform-xml</module>
    <module>xwiki-platform-zipexplorer</module>
  </modules>
  <profiles>
    <!-- Profile to build Legacy modules -->
    <profile>
      <id>legacy</id>
      <modules>
        <module>xwiki-platform-legacy</module>
      </modules>
    </profile>
  </profiles>
</project>
