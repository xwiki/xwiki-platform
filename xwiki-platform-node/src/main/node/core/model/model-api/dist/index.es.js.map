{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\n/**\n * @since 0.12\n * @beta\n */\nenum EntityType {\n  WIKI,\n  SPACE,\n  DOCUMENT,\n  ATTACHMENT,\n}\n\n/**\n * @since 0.12\n * @beta\n */\ninterface BaseEntityReference {\n  type: EntityType;\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass WikiReference implements BaseEntityReference {\n  type: EntityType.WIKI = EntityType.WIKI;\n\n  name: string;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass SpaceReference implements BaseEntityReference {\n  type: EntityType.SPACE = EntityType.SPACE;\n  wiki?: WikiReference;\n  names: string[];\n\n  constructor(wiki?: WikiReference, ...names: string[]) {\n    this.wiki = wiki;\n    this.names = names;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass DocumentReference implements BaseEntityReference {\n  type: EntityType.DOCUMENT = EntityType.DOCUMENT;\n  space?: SpaceReference;\n  name: string;\n  /**\n   * Indicates whether the current document reference is terminal.\n   * @since 0.13\n   * @beta\n   */\n  terminal: boolean;\n\n  constructor(name: string, space?: SpaceReference, terminal?: boolean) {\n    this.space = space;\n    this.name = name;\n    this.terminal = terminal ?? false;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass AttachmentReference implements BaseEntityReference {\n  type: EntityType.ATTACHMENT = EntityType.ATTACHMENT;\n  name: string;\n  document: DocumentReference;\n  /**\n   * @since 0.22\n   */\n  private readonly _metadata: Record<string, string>;\n\n  /**\n   *\n   * @param name - the name of the attachment\n   * @param document - the document reference of the attachment\n   * @param metadata - (since 0.22) the metadata of the attachment, can be used to store additional information\n   *  about the attachment (e.g., additional information for a given backend)\n   */\n  constructor(\n    name: string,\n    document: DocumentReference,\n    metadata?: Record<string, string>,\n  ) {\n    this.name = name;\n    this.document = document;\n    this._metadata = metadata ?? {};\n  }\n\n  get metadata(): Record<string, string> {\n    return this._metadata;\n  }\n}\n\n/**\n * @since 0.16\n * @beta\n */\ntype EntityReference =\n  | AttachmentReference\n  | DocumentReference\n  | SpaceReference\n  | WikiReference;\n\nexport {\n  AttachmentReference,\n  type BaseEntityReference,\n  DocumentReference,\n  type EntityReference,\n  EntityType,\n  SpaceReference,\n  WikiReference,\n};\n"],"names":["EntityType","WikiReference","name","SpaceReference","wiki","names","DocumentReference","space","terminal","AttachmentReference","document","metadata"],"mappings":"AAwBA,IAAKA,sBAAAA,OACHA,EAAAA,EAAA,OAAA,CAAA,IAAA,QACAA,EAAAA,EAAA,QAAA,CAAA,IAAA,SACAA,EAAAA,EAAA,WAAA,CAAA,IAAA,YACAA,EAAAA,EAAA,aAAA,CAAA,IAAA,cAJGA,IAAAA,KAAA,CAAA,CAAA;AAmBL,MAAMC,EAA6C;AAAA,EACjD,OAAwB;AAAA,EAExB;AAAA,EAEA,YAAYC,GAAc;AACxB,SAAK,OAAOA;AAAA,EACd;AACF;AAMA,MAAMC,EAA8C;AAAA,EAClD,OAAyB;AAAA,EACzB;AAAA,EACA;AAAA,EAEA,YAAYC,MAAyBC,GAAiB;AACpD,SAAK,OAAOD,GACZ,KAAK,QAAQC;AAAA,EACf;AACF;AAMA,MAAMC,EAAiD;AAAA,EACrD,OAA4B;AAAA,EAC5B;AAAA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA;AAAA,EAEA,YAAYJ,GAAcK,GAAwBC,GAAoB;AACpE,SAAK,QAAQD,GACb,KAAK,OAAOL,GACZ,KAAK,WAAWM,KAAY;AAAA,EAC9B;AACF;AAMA,MAAMC,EAAmD;AAAA,EACvD,OAA8B;AAAA,EAC9B;AAAA,EACA;AAAA;AAAA;AAAA;AAAA,EAIiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASjB,YACEP,GACAQ,GACAC,GACA;AACA,SAAK,OAAOT,GACZ,KAAK,WAAWQ,GAChB,KAAK,YAAYC,KAAY,CAAA;AAAA,EAC/B;AAAA,EAEA,IAAI,WAAmC;AACrC,WAAO,KAAK;AAAA,EACd;AACF;"}