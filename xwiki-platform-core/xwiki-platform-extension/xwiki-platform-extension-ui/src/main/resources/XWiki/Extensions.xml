<?xml version="1.1" encoding="UTF-8"?>

<!--
 * See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->

<xwikidoc version="1.4" reference="XWiki.Extensions" locale="">
  <web>XWiki</web>
  <name>Extensions</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <parent>xwiki:XWiki.WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <version>1.1</version>
  <title>$services.localization.render('extension.extensions')</title>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>true</hidden>
  <content>{{template name="extension.vm" output="false"/}}

{{velocity}}
## HTML cleaner messes up the content of the legend tag.
{{html clean="false"}}
#if ($isAjaxRequest)
  #handleExtensionRequest()
#else
  &lt;div class="full column"&gt;
  #displayExtensionSearchBar()

  #if ($request.extensionId &amp;&amp; $request.extensionVersion)
    ## Advanced search.
    #handleExtensionRequest()
  #else
    #if ($request.index_start)
      #set ($void = $extensionManager.getRepository('index').index("wiki:${xcontext.database}"))
    #end
    ## Simple search.
    #set ($noResultsMessageKey = 'extensions.search.noResults')
    #set ($paginationParams = {})
    ## Dump whitespace generated by the pagination macro
    #set ($discard = "#paginationPrepareParams($paginationParams)")
    #if ("$!selectedRepositoryId" != '')
      #set ($repository = $extensionManager.getRepository($selectedRepositoryId))
      #if ("$!request.search" == '')
        ## Fetch extensions from known repositories.
        #if ($selectedRepositoryId == 'core')
          #set($extensions = $services.extension.core.getCoreExtensions())
        #elseif ($selectedRepositoryId == 'installed')
          #if ($xcontext.isMainWiki())
            #set($extensions = $services.extension.installed.getInstalledExtensions())
          #else
            #set($extensions = $services.extension.installed.getInstalledExtensions($extensionNamespace))
          #end
        #elseif ($selectedRepositoryId == 'local')
          #set($extensions = $services.extension.local.getLocalExtensions())
        #end
        #if ($extensions)
          #set ($totalHits = $extensions.size())
          #if ($totalHits == 0)
            #set ($noResultsMessageKey = "extensions.search.repository.${selectedRepositoryId}.empty")
          #end
          ## All extensions from the specified repository have been fetched. We need to display only the current page.
          #set ($extensions = $extensions.subList($paginationParams.firstItem, $mathtool.min($extensions.size(), $mathtool.add($paginationParams.firstItem, $paginationParams.itemsPerPage))))
        #end
      #end
    #end
    #if (!$extensions)
      #set($extensionQuery = $services.extension.index.newQuery("$!request.search"))
      #set($void = $extensionQuery.setOffset($paginationParams.firstItem))
      #set($void = $extensionQuery.setLimit($paginationParams.itemsPerPage))
      #if ($selectedRepositoryId == 'installed')
        #if ($xcontext.isMainWiki())
          #set ($extensions = $services.extension.installed.repository.searchInstalledExtensions($extensionQuery))
        #else
          ## When searching for installed extensions in a subwiki we need to take the namespace into account.
          #set ($extensions = $services.extension.installed.repository.searchInstalledExtensions($extensionNamespace, $extensionQuery))
        #end
      #elseif ($repository)
        #set ($extensions = $repository.search($extensionQuery))
      #else
        #if ($recommended)
          #set($void = $extensionQuery.addFilter('recommended', true, 'EQUAL'))
        #end
        #if ($indexed)
          #set ($repository = $extensionManager.index.repository)
          #if ($compatible)
            #set ($void = $extensionQuery.setCompatible(true, '', "wiki:$xcontext.database"))
          #end
        #else
          #set ($repository = $extensionManager)
        #end
        #set ($extensions = $repository.search($extensionQuery))
      #end
      #set ($totalHits = $extensions.totalHits)
    #end

    #if ($recommended)
      #if (!$extensions.iterator().hasNext())
        #warning($services.localization.render('extensions.search.recommended.fallback', ["&lt;em&gt;$!escapetool.xml($request.search)&lt;/em&gt;"]))
        ## Search again with the recommended filter
        #set ($extensions = $repository.search("$!request.search", $paginationParams.firstItem, $paginationParams.itemsPerPage))
        #set ($totalHits = $extensions.totalHits)
        #set ($recommended = false)
      #elseif (!$customExtensionFilter)
        #macro (infoHeaderContent)
          #if ($compatible)
            $services.localization.render('extensions.search.compatiblerecommended.disclaimer')
          #else
            $services.localization.render('extensions.search.recommended.disclaimer')
          #end
          &lt;form action="${xwiki.relativeRequestURL}"&gt;
            #if ($request.section)
              &lt;input type="hidden" name="section" value="${escapetool.xml($request.section)}" /&gt;
            #end
            &lt;input type="hidden" name="search" value="$!{escapetool.xml($request.search)}" /&gt;
            &lt;input type="hidden" name="recommended" value="false" /&gt;
            &lt;input type="hidden" name="indexed" value="$indexed" /&gt;
            &lt;input type="hidden" name="compatible" value="$compatible" /&gt;
            #if ($compatible)
              &lt;input type="submit" value="${escapetool.xml($services.localization.render('extensions.search.compatible.all.label'))}" class="btn btn-default"/&gt;
            #else
              &lt;input type="submit" value="${escapetool.xml($services.localization.render('extensions.search.all.label'))}" class="btn btn-default"/&gt;
            #end
          &lt;/form&gt;
        #end
        #info("#infoHeaderContent()")
      #end
    #end

    #if (!$extensions.iterator().hasNext())
      #info($services.localization.render($noResultsMessageKey, ["&lt;em&gt;$!escapetool.xml($request.search)&lt;/em&gt;"]))
    #else
      #if ($totalHits &amp;&amp; $totalHits &gt; $paginationParams.itemsPerPage)
        #set ($hasPagination = true)
        #set ($paginationParams.totalItems = $totalHits)
        #set ($paginationParams.url = $doc.getURL($xcontext.action, $request.getQueryString().replaceAll('(^|&amp;)firstIndex=[^&amp;]++&amp;?', '$1')))
        #pagination($paginationParams)
      #end
      #foreach($extension in $extensions)
        #displayExtension($extension)
      #end
      #if ($hasPagination)
        #set ($discard = $paginationParams.put('position', 'bottom'))
        #pagination($paginationParams)
      #end
    #end

    #if ($indexed)
      #macro (formContent)
        &lt;form action="${xwiki.relativeRequestURL}"&gt;
          #if ($request.section)
            &lt;input type="hidden" name="section" value="${escapetool.xml($request.section)}" /&gt;
          #end
          &lt;input type="hidden" name="search" value="$!{escapetool.xml($request.search)}" /&gt;
          &lt;input type="hidden" name="recommended" value="$recommended" /&gt;
          &lt;input type="hidden" name="indexed" value="$indexed" /&gt;
          &lt;input type="hidden" name="compatible" value="$compatible" /&gt;
          #if ($indexJobStatus.state != 'RUNNING')
            &lt;input type="submit" value="${escapetool.xml($services.localization.render('extensions.search.indexed.reindex'))}" name="index_start" class="btn btn-default"/&gt;
          #end
        &lt;/form&gt;
      #end
      #set ($indexJobStatus = $repository.getStatus("wiki:${xcontext.database}"))
      #if ($indexJobStatus)
        #if ($indexJobStatus.state != 'FINISHED')
          #set ($discard = $xwiki.jsfx.use('uicomponents/job/job.js'))
          #set ($jobStatusURL = $doc.getURL('get', $escapetool.url({
              'xpage': 'job_status_json',
              'outputSyntax': 'plain',
              'jobId': $indexJobStatus.request.id
            })))
          #macro (infoFooterContent)
            $escapetool.xml($services.localization.render('extensions.search.indexed.started', [$xwiki.formatDate($indexJobStatus.startDate)]))
            &lt;div class="xcontent job-status" data-url="$escapetool.xml($jobStatusURL)"&gt;
              #displayJobProgressBar($indexJobStatus, true)
            &lt;/div&gt;
          #end
        #else
          #macro (infoFooterContent)
            $escapetool.xml($services.localization.render('extensions.search.indexed.on', [$xwiki.formatDate($indexJobStatus.startDate)]))
          #end
        #end
        #info("#infoFooterContent()
          #formContent()")
      #else
        #warning("$escapetool.xml($services.localization.render('extensions.search.indexed.nojob'))
          #formContent()")
      #end
    #end
  #end
  &lt;/div&gt;
#end
{{/html}}
{{/velocity}}</content>
  <attachment>
    <filename>icon.png</filename>
    <mimetype>image/png</mimetype>
    <author>xwiki:XWiki.Admin</author>
    <version>1.1</version>
    <comment/>
    <content>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</content>
    <filesize>8529</filesize>
  </attachment>
  <object>
    <name>XWiki.Extensions</name>
    <number>0</number>
    <className>XWiki.ConfigurableClass</className>
    <guid>d05796af-4476-41d6-8f84-79dcfb2509dd</guid>
    <class>
      <name>XWiki.ConfigurableClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <categoryIcon>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>categoryIcon</name>
        <number>11</number>
        <picker>0</picker>
        <prettyName>categoryIcon</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </categoryIcon>
      <codeToExecute>
        <contenttype>VelocityWiki</contenttype>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>---</editor>
        <hint/>
        <name>codeToExecute</name>
        <number>7</number>
        <picker>0</picker>
        <prettyName>codeToExecute</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </codeToExecute>
      <configurationClass>
        <cache>0</cache>
        <classname/>
        <customDisplay/>
        <defaultValue/>
        <disabled>0</disabled>
        <displayType>input</displayType>
        <freeText/>
        <hint/>
        <idField/>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>configurationClass</name>
        <number>3</number>
        <picker>1</picker>
        <prettyName>configurationClass</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators/>
        <size>30</size>
        <sort>none</sort>
        <sql/>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <valueField/>
        <classType>com.xpn.xwiki.objects.classes.PageClass</classType>
      </configurationClass>
      <displayBeforeCategory>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>displayBeforeCategory</name>
        <number>10</number>
        <picker>0</picker>
        <prettyName>displayBeforeCategory</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </displayBeforeCategory>
      <displayInCategory>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>displayInCategory</name>
        <number>9</number>
        <picker>0</picker>
        <prettyName>displayInCategory</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </displayInCategory>
      <displayInSection>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>displayInSection</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>displayInSection</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </displayInSection>
      <heading>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>heading</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>heading</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </heading>
      <iconAttachment>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>iconAttachment</name>
        <number>8</number>
        <picker>0</picker>
        <prettyName>iconAttachment</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </iconAttachment>
      <linkPrefix>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>linkPrefix</name>
        <number>5</number>
        <picker>0</picker>
        <prettyName>linkPrefix</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </linkPrefix>
      <propertiesToShow>
        <cache>0</cache>
        <customDisplay/>
        <defaultValue/>
        <disabled>0</disabled>
        <displayType>input</displayType>
        <freeText/>
        <hint/>
        <largeStorage>0</largeStorage>
        <multiSelect>1</multiSelect>
        <name>propertiesToShow</name>
        <number>6</number>
        <picker>0</picker>
        <prettyName>propertiesToShow</prettyName>
        <relationalStorage>1</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>20</size>
        <sort>none</sort>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <values/>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </propertiesToShow>
      <scope>
        <cache>0</cache>
        <customDisplay/>
        <defaultValue/>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText/>
        <hint/>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>scope</name>
        <number>12</number>
        <picker>1</picker>
        <prettyName>scope</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <sort/>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <values>WIKI|SPACE|ALL_SPACES|WIKI+ALL_SPACES</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </scope>
      <sectionOrder>
        <customDisplay/>
        <disabled>0</disabled>
        <hint/>
        <name>sectionOrder</name>
        <number>12</number>
        <numberType>integer</numberType>
        <prettyName>sectionOrder</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.NumberClass</classType>
      </sectionOrder>
    </class>
    <property>
      <categoryIcon>plugin</categoryIcon>
    </property>
    <property>
      <codeToExecute/>
    </property>
    <property>
      <configurationClass/>
    </property>
    <property>
      <displayBeforeCategory>lf</displayBeforeCategory>
    </property>
    <property>
      <displayInCategory>extensionmanager</displayInCategory>
    </property>
    <property>
      <displayInSection>XWiki.Extensions</displayInSection>
    </property>
    <property>
      <heading/>
    </property>
    <property>
      <iconAttachment/>
    </property>
    <property>
      <linkPrefix/>
    </property>
    <property>
      <propertiesToShow/>
    </property>
    <property>
      <scope>WIKI</scope>
    </property>
    <property>
      <sectionOrder>100</sectionOrder>
    </property>
  </object>
  <object>
    <name>XWiki.Extensions</name>
    <number>0</number>
    <className>XWiki.UIExtensionClass</className>
    <guid>b4ce9c3b-c0b8-4f97-84c1-d32330f2f49c</guid>
    <class>
      <name>XWiki.UIExtensionClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <async_cached>
        <defaultValue>0</defaultValue>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType/>
        <name>async_cached</name>
        <number>3</number>
        <prettyName>Cached</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </async_cached>
      <async_context>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>1</multiSelect>
        <name>async_context</name>
        <number>4</number>
        <prettyName>Context elements</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator>, </separator>
        <separators>|, </separators>
        <size>5</size>
        <unmodifiable>0</unmodifiable>
        <values>action=Action|doc.reference=Document|icon.theme=Icon theme|locale=Language|rendering.defaultsyntax=Default syntax|rendering.restricted=Restricted|rendering.targetsyntax=Target syntax|request.base=Request base URL|request.parameters=Request parameters|request.url=Request URL|request.wiki=Request wiki|user=User|wiki=Wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </async_context>
      <async_enabled>
        <defaultValue>0</defaultValue>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType/>
        <name>async_enabled</name>
        <number>2</number>
        <prettyName>Asynchronous rendering</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </async_enabled>
      <content>
        <disabled>0</disabled>
        <editor>Text</editor>
        <name>content</name>
        <number>1</number>
        <prettyName>Executed Content</prettyName>
        <rows>25</rows>
        <size>120</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </content>
      <extensionPointId>
        <disabled>0</disabled>
        <name>extensionPointId</name>
        <number>5</number>
        <prettyName>Extension Point ID</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </extensionPointId>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>6</number>
        <prettyName>Extension ID</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parameters>
        <contenttype>PureText</contenttype>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>parameters</name>
        <number>7</number>
        <prettyName>Extension Parameters</prettyName>
        <rows>10</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </parameters>
      <scope>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <freeText>forbidden</freeText>
        <largeStorage>0</largeStorage>
        <multiSelect>0</multiSelect>
        <name>scope</name>
        <number>8</number>
        <prettyName>Extension Scope</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators>|, </separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>wiki=Current Wiki|user=Current User|global=Global</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </scope>
    </class>
    <property>
      <async_cached/>
    </property>
    <property>
      <async_context/>
    </property>
    <property>
      <async_enabled/>
    </property>
    <property>
      <content/>
    </property>
    <property>
      <extensionPointId>org.xwiki.platform.panels.Applications.more</extensionPointId>
    </property>
    <property>
      <name>platform.panels.addApplications</name>
    </property>
    <property>
      <parameters>label=$services.localization.render('extensions.applicationsPanel.install')
## The Application Panel checks only if the current user has the right to view the specified target page. Since simple
## users have by default view right on the XWiki.XWikiPreferences page but only admins can actually install
## applications, we need to check admin rights here in order to hide this entry for simple users.
target=#if ($xwiki.hasWikiAdminRights())XWiki.XWikiPreferences#end
targetQueryString=editor=globaladmin&amp;section=XWiki.Extensions
icon=icon:bullet_go</parameters>
    </property>
    <property>
      <scope>wiki</scope>
    </property>
  </object>
</xwikidoc>
