'use strict';define("xwiki-diff",["jquery","xwiki-events-bridge"],function(b){var q=function(a){a.find('.changes-body a[data-toggle="pill"]').on("show.bs.tab",function(c){var e=b(b(c.target).attr("href"));if(!e.hasClass("loading")&&""==e.html().trim()){var f=window.location.search.substring(1).replace("viewer","xpage");f=XWiki.currentDocument.getURL("get",f);var d=e.attr("id");e.addClass("loading").load(f+" #"+d,{include:d},function(){e.removeClass("loading").children(".tab-pane").children().unwrap();
b(document).trigger("xwiki:dom:updated",{elements:e.toArray()})})}f=b(c.target).data("hint");b(c.target).closest(".changes-body-header").find(".changes-actions").removeClass("active").filter("."+f).addClass("active")})},r=function(){var a=b(this).next("ul");a.length&&(a.hide(),b(this).find("a").on("click",function(c){c.preventDefault();a.toggle()}))},k=function(a){var c=b(a).prev();if(0<c.length)return c[0];a=b(a).parent();if(0<a.length)return k(a[0])},l=function(a){var c=b(a).next();if(0<c.length)return c[0];
a=b(a).parent();if(0<a.length)return l(a[0])},h=function(a,c){"true"===b(a).attr("data-xwiki-html-diff-hidden")&&b(a).attr({"data-xwiki-html-diff-hidden":"ellipsis","data-xwiki-html-diff-expand":c?"up":"down"})},n=function(a){a.find("[data-xwiki-html-diff-hidden]").attr("data-xwiki-html-diff-hidden",!0);a.find("[data-xwiki-html-diff-block]").each(function(){h(k(this),!0);h(l(this),!1)})},t=function(a){a.find(".html-diff-context-toggle").on("click",function(c){c.preventDefault();c=b(this);var e=c.closest(".changes-body").find(".html-diff");
c.hasClass("html-diff-context-toggle-show")?(e.find("[data-xwiki-html-diff-hidden]").attr("data-xwiki-html-diff-hidden",!1),c.removeClass("html-diff-context-toggle-show").addClass("html-diff-context-toggle-hide")):(n(e),c.removeClass("html-diff-context-toggle-hide").addClass("html-diff-context-toggle-show"))});a=a.hasClass("html-diff")&&a||a.find(".html-diff");n(a);a.each(function(){var c=b(this).find("[data-xwiki-html-diff-hidden]").length;b(this).closest(".changes-body").find(".html-diff-context-toggle").toggleClass("hidden",
0===c)});a.off("click.showDiffContext").on("click.showDiffContext",'[data-xwiki-html-diff-hidden="ellipsis"]',function(){b(this).attr("data-xwiki-html-diff-hidden","false");"up"===b(this).attr("data-xwiki-html-diff-expand")?h(k(this),!0):h(l(this),!1);b(this).removeAttr("data-xwiki-html-diff-expand")})},u=function(a){var c=function(d){var g=b("#conflict_decision_select_"+d).val();["custom","previous","current","next"].forEach(function(m){m!==g?b("#conflict_decision_value_"+m+"_"+d).hide():b("#conflict_decision_value_"+
m+"_"+d).show()})},e=function(d){b("#conflict_decision_select_"+d).on("change",function(){c(d)})},f=function(d){["custom","previous","current","next"].forEach(function(g){"current"!==g?b("#conflict_decision_value_"+g+"_"+d).hide():b("#conflict_decision_value_"+g+"_"+d).show()})};a.find("input[name=conflict_id]").each(function(){e(b(this).val());f(b(this).val())})},p=function(a){q(a);a.find("div.diff-summary-item").each(r);t(a);u(a)};b(document).on("xwiki:dom:updated",function(a,c){p(b(c.elements))});
p(b(document.body))});require(["xwiki-diff"],function(){});

//# sourceMappingURL=diff.min.js.map
