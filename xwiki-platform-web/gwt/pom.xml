<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>com.xpn.xwiki.platform</groupId>
    <artifactId>xwiki-web</artifactId>
    <version>1.1-SNAPSHOT</version>
  </parent>
  <artifactId>xwiki-web-gwt</artifactId>
  <name>XWiki Platform - Web - GWT API</name>
  <packaging>jar</packaging>
  <description>The Common GWT API XWiki JAR</description>
  <dependencies>
    <dependency>
      <groupId>com.google.gwt</groupId>
      <artifactId>gwt-servlet</artifactId>
      <version>1.3.3</version>
    </dependency>
    <dependency>
      <groupId>com.google.gwt</groupId>
      <artifactId>gwt-user</artifactId>
      <version>1.3.3</version>
      <!-- This JAR is used to generate JS files and shouldn't be included in the server side
           WAR -->
      <scope>provided</scope>
    </dependency>
    <!-- The GWT TK library is not in any Maven2 remote repository. For the time being we
         have uploaded it in our custom Maven repository on http://maven.xwiki.org. -->
    <dependency>
      <groupId>gwttk</groupId>
      <artifactId>gwttk</artifactId>
      <version>0.2.2</version>
      <!-- This JAR is used to generate JS files and shouldn't be included in the server side
           WAR -->
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>com.xpn.xwiki.platform</groupId>
      <artifactId>xwiki-core</artifactId>
      <version>1.1.1</version>
      <!-- We don't want all the Core libs to be put in WEB-INF/lib as this GWT WAR will be
           overlayed with the Standard WAR which already contains all the required libs -->
      <scope>provided</scope>
    </dependency>
    <!-- Not sure why we have to add again this dependency. It's already defined in xwiki-core
         but it doesn't get imported as a transitive dependency. Maybe because we're importing
         xwiki-ocre with a provided scope... -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>servlet-api</artifactId>
      <!-- Note: The 2.4 version is not technically correct as 2.4 corresponds to a specification
           # and is not an implementation version. The central repo would need to be fixed... -->
      <version>2.4</version>
      <scope>provided</scope>
    </dependency>
  </dependencies>
  <build>
    <plugins>
      <!-- We need to generate the source JAR as it'll be needed by the GWT module that depends
           on this as the GWT compiler needs the sources to generate the JS files -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <executions>
          <execution>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <id>gwt-maven</id>
      <url>http://gwt-maven.googlecode.com/svn/trunk/mavenrepo/</url>
    </repository>
  </repositories>
</project>
