'use strict';var XWiki=function(p){p.widgets=p.widgets||{};p.widgets.LiveTable=Class.create({initialize:function(a,b,d,c){this.options=c||{};this.domNodeName=b;$(this.domNodeName).down("tr.xwiki-livetable-initial-message")&&$(this.domNodeName).down("tr.xwiki-livetable-initial-message").remove();this.displayNode=$(b+"-display")||$("display1");this.filtersNodes=[c.filterNodes||$(c.filtersNode)||$(b).down(".xwiki-livetable-display-filters")].flatten().compact();this.filtersNodes=this.filtersNodes.collect(function(e){return"string"===
typeof e?$(e)||$(document.body).down(e):e});this.paginationNodes=c.paginationNodes||$(this.domNodeName).select(".xwiki-livetable-pagination");this.pageSizeNodes=c.pageSizeNodes||$(this.domNodeName).select(".xwiki-livetable-pagesize");this.action=c.action||"view";this.limit=c.limit||10;this.lastOffset=1;$(this.domNodeName).select("th.sortable").each(function(e){e.hasClassName("selected")&&(this.selectedColumn=e)},this);this.throttlingDelay=c.throttlingDelay||.5;this.permalinks=new x(this,"undefined"==
typeof c.permalinks||c.permalinks);this.limit=this.permalinks.getLimit();var g=this.permalinks.getPage();"undefined"!=typeof this.pageSizeNodes&&(this.pageSizer=new y(this,this.pageSizeNodes,c.pageSizeBounds,this.limit));"undefined"!=typeof this.paginationNodes&&(this.paginator=new z(this,this.paginationNodes,c.maxPages||10));0<this.filtersNodes.length&&(this.filter=new A(this,this.filtersNodes,this.permalinks.getFilters(),{throttlingDelay:this.throttlingDelay}));$(b+"-tagcloud")&&(this.tags=c.selectedTags,
this.tagCloud=new B(this,b+"-tagcloud"));this.loadingStatus=$(this.domNodeName+"-ajax-loader")||$("ajax-loader");this.limitsDisplays=$(this.domNodeName).select(".xwiki-livetable-limits")||[];this.filters="";this.handler=d||this.handler;this.totalRows=-1;this.fetchedRows=[];this.getUrl=a;this.recvReqNo=this.sendReqNo=0;this.observeSortableColumns(this.permalinks.getSortColumn(),this.permalinks.getSortDirection());this.currentOffset=(g-1)*this.limit+1;this.showRows(this.currentOffset,this.limit)},setPageSize:function(a){this.limit=
a;this.showRows(1,this.limit)},getRows:function(a,b,d,c,g){var e=this;this.nextRequestTimeoutId&&(window.clearTimeout(this.nextRequestTimeoutId),delete this.nextRequestTimeoutId);var k=function(){var f=e.getUrl+"&offset="+a+"&limit="+b+"&reqNo="+ ++e.sendReqNo;e.filter&&(e.filters=e.filter.serializeFilters(),void 0!=e.filters&&""!=e.filters&&(f+=e.filters));"undefined"!=typeof e.tags&&0<e.tags.length&&e.tags.each(function(h){f+="&tag="+encodeURIComponent(h.unescapeHTML())});f+=e.getSortURLFragment();
document.fire("xwiki:livetable:"+e.domNodeName+":loadingEntries");document.fire("xwiki:livetable:loadingEntries",{tableId:e.domNodeName});new Ajax.Request(f,{method:"get",onComplete:function(h){document.fire("xwiki:livetable:"+e.domNodeName+":loadingComplete",{status:h.status});document.fire("xwiki:livetable:loadingComplete",{status:h.status,tableId:e.domNodeName});e.loadingStatus.addClassName("hidden")},onSuccess:function(h){h=eval("("+h.responseText+")");h.reqNo<e.sendReqNo||(e.recvReqNo=h.reqNo,
e.tagCloud&&h.matchingtags&&e.tagCloud.updateTagCloud(h.tags,h.matchingtags),document.fire("xwiki:livetable:"+e.domNodeName+":receivedEntries",{data:h}),document.fire("xwiki:livetable:receivedEntries",{data:h,tableId:e.domNodeName}),e.updateFetchedRows(h),e.displayRows(d,c))}})};e.loadingStatus.removeClassName("hidden");"undefined"!=typeof g&&0<g?this.nextRequestTimeoutId=Function.delay.call(k,g):k()},updateFetchedRows:function(a){this.json=a;this.totalRows=a.totalrows;for(var b=a.offset;b<a.offset+
a.returnedrows;++b)this.fetchedRows[b]=a.rows[b-a.offset]},clearDisplay:function(){for(var a=this.displayNode;a.hasChildNodes();)a.removeChild(a.firstChild)},displayRows:function(a,b){b=a+b-1;b>this.totalRows&&(b=this.totalRows);a=0<this.totalRows?a:0;var d="<strong>"+a+"</strong> - <strong>"+b+"</strong> $services.localization.render('platform.livetable.paginationResultsOf') <strong>"+this.totalRows+"</strong>";d=d.toLowerCase();this.limitsDisplays.each(function(e){e.innerHTML="$services.localization.render('platform.livetable.paginationResults') "+
d});for(this.clearDisplay();a<=b;a++){var c=this.fetchedRows[a];if(c){var g=this.handler(c,a,this);g.writeAttribute("data-index",a);this.displayNode.appendChild(g);c={data:c,row:g,table:this,tableId:this.domNodeName};document.fire("xwiki:livetable:"+this.domNodeName+":newrow",c);document.fire("xwiki:livetable:newrow",c)}}this.paginator&&this.paginator.refreshPagination();document.fire("xwiki:livetable:"+this.domNodeName+":displayComplete");document.fire("xwiki:livetable:displayComplete",{tableId:this.domNodeName})},
handler:function(a,b,d){a.doc_viewable||$(d.domNodeName+"-inaccessible-docs").removeClassName("hidden");var c=!1;if(0<=d.options.columns.indexOf("doc.title")){var g=d.options.columnDescriptors["doc.title"]||{};if(!1!==g.filterable||!1!==g.sortable)c=!0,void 0!==a.doc_title_raw&&$(d.domNodeName+"-computed-title-docs").removeClassName("hidden")}var e=new Element("tr");d.options.columns.forEach(function(k){var f=d.options.columnDescriptors[k]||{};if("hidden"!==f.type){var h=f.displayName||k,n=k.replace(/^doc\./,
"doc_");if(a.doc_viewable||a[n])if("_actions"===k){var r=["admin","rename","rights"];m=new Element("td",{"class":"actions","data-title":h});m.toggleClassName("hide-labels",!1===f.labels);(f.actions||[]).forEach(function(l,v){if(a["doc_has"+l.id]||"view"===l.id||void 0===a["doc_has"+l.id]&&(a.doc_hasadmin||0>r.indexOf(l.id))){var q=(new Element("a",{href:a["doc_"+l.id+"_url"]||a.doc_url,"class":"action action"+l.id})).update('<span class="action-icon"></span><span class="action-label"></span>');q.down(".action-icon").update(l.icon).writeAttribute("title",
l.label);q.down(".action-label").update(l.label.escapeHTML());l.async&&q.observe("click",function(C){C.stop();var w=new p.widgets.Notification($jsontool.serialize($services.localization.render("platform.livetable.asyncActionInProgress")),"inprogress");new Ajax.Request(q.href,{onSuccess:function(){"string"===typeof l.callback&&(new Function("row","i","table",l.callback))(a,b,d);w.replace(new p.widgets.Notification($jsontool.serialize($services.localization.render("platform.livetable.asyncActionDone")),
"done"))},onFailure:function(){w.replace(new p.widgets.Notification($jsontool.serialize($services.localization.render("platform.livetable.asyncActionFailed")),"error"))}})});m.insert(q)}})}else{h=m=new Element("td",{"class":[n,"link"+(f.link||""),"type"+(f.type||"")].join(" "),"data-title":h});if(f.link&&a.doc_viewable){h=new Element("editor"===f.link?"span":"a");if("auto"===f.link)h.href=a[n+"_url"]||a.doc_url;else if("field"===f.link)a[n+"_url"]&&(h.href=a[n+"_url"]);else if("editor"===f.link){var t=
f["class"]||d.options.xclass;m.observe("click",function(l){var v=l.element().down("span")||l.element();editProperty(a.doc_fullName,t,k,function(q){v.innerHTML=q})})}else h.href=a["doc_"+f.link+"_url"]?a["doc_"+f.link+"_url"]:a.doc_url;m.appendChild(h)}"true"===f.html+""?h.innerHTML=a[n]||"":void 0!==a[n]&&null!==a[n]&&(f=a[n]+"",c&&"doc_title"===n&&void 0!==a.doc_title_raw&&h.addClassName("docTitleComputed"),h.update(f.escapeHTML()))}else{const l=$jsontool.serialize($services.localization.render("platform.livetable.docNotViewable"));
var m=new Element("td",{"class":[n,"link"+(f.link||""),"type"+(f.type||"")].join(" "),"data-title":h});"_actions"!==k&&m.update(l+"<sup>*</sup>")}e.appendChild(m)}});return e},showRows:function(a,b,d){this.lastOffset=a;this.permalinks.update();var c="request to display rows "+a+" to "+(a+b)+" <br />\n";if(-1==this.totalRows)return this.getRows(a,b,a,b,d),c+"table is empty so we get all rows";for(var g=d=-1,e=a;e<a+b;++e)void 0==this.fetchedRows[e]&&(-1==d&&(d=e),g=e);-1==d?(c+="no need to get new rows <br />\n",
this.displayRows(a,b)):(c+="we need to get rows "+d+" to "+(g+1)+" <br />\n",this.getRows(d,g-d+1,a,b));this.paginator&&this.paginator.refreshPagination();return c},deleteAndShiftRows:function(a){for(var b in this.fetchedRows)b>=a&&(this.fetchedRows[b]=this.fetchedRows[""+(parseInt(b)+1)])},debugFetchedRows:function(){var a="",b;for(b in this.fetchedRows)void 0!=this.fetchedRows[b]&&(a+=b+" ");return a},deleteRow:function(a){this.deleteAndShiftRows(a);var b=this.lastOffset;a>this.totalRows-this.limit-
1&&--b;0>=b&&(b=1);--this.totalRows;this.totalRows<this.limit?this.showRows(b,this.totalRows):this.showRows(b,this.limit);this.paginator&&this.paginator.refreshPagination();document.fire("xwiki:livetable:"+this.domNodeName+":displayComplete");document.fire("xwiki:livetable:displayComplete",{tableId:this.domNodeName})},getSortURLFragment:function(){var a=this.getSortColumn(),b="";return null!=a&&(b+="&sort="+a,a=this.getSortDirection(),null!=a)?b+("&dir="+a):b},getSortColumn:function(){if(!this.selectedColumn)return null;
var a=this.selectedColumn.down("a");return a?this.getColumnNameAttribute(a):null},getColumnNameAttribute:function(a){return a.hasAttribute("data-rel")?a.getAttribute("data-rel"):a.getAttribute("rel")},getSortDirection:function(){return this.selectedColumn?this.selectedColumn.hasClassName("desc")?"desc":"asc":null},clearCache:function(){this.fetchedRows.clear();this.totalRows=-1},observeSortableColumns:function(a,b){var d=this;$(this.domNodeName).select("th.sortable").each(function(c){(c.down("a")?
d.getColumnNameAttribute(c.down("a")):null)==a?(d.selectedColumn=c,c.addClassName("selected"),"asc"==b?(c.hasClassName("desc")&&c.removeClassName("desc"),c.addClassName("asc")):(c.hasClassName("asc")&&c.removeClassName("asc"),c.addClassName("desc"))):(c.hasClassName("selected")&&c.removeClassName("selected"),c.hasClassName("desc")||c.hasClassName("asc")||c.addClassName("desc"));Event.observe(c,"click",function(g){g=g.element();g.hasClassName("sortable")||(g=g.up("th.sortable"));if(null!=g){if(g.hasClassName("selected")){var e=
g.hasClassName("asc")?"asc":"desc",k="asc"==e?"desc":"asc";g.removeClassName(e);g.addClassName(k)}else d.selectedColumn&&d.selectedColumn.removeClassName("selected"),g.addClassName("selected"),d.selectedColumn=g;d.clearCache();d.showRows(1,d.limit)}})})},refresh:function(){var a=Math.max(this.lastOffset,1),b=this.limit;this.clearCache();this.getRows(a,b,a,b)}});var x=Class.create({initialize:function(a,b){this.table=a;this.enable=b;this.loadFromHash()},loadFromHash:function(){this.params=this.getTableParams();
this.filters={};if(this.enable){var a=window.location.hash.substring(1);if(!a.blank()){a=a.split("|");for(var b=0;b<a.length;b++){var d=a[b].toQueryParams();if(d.t==this.table.domNodeName)for(var c in d)1==c.length&&-1!="tplsd".indexOf(c)?this.params[c]=d[c]:this.filters[c]=d[c]}}}},getTableParams:function(){var a={};a.t=this.table.domNodeName;a.p=(this.table.lastOffset-1)/this.table.limit+1;a.l=this.table.limit;null!=this.table.getSortColumn()&&(a.s=this.table.getSortColumn(),a.d=this.table.getSortDirection());
return a},getParam:function(a){return this.params[a]},getIntParam:function(a){return parseInt(this.params[a])},getLimit:function(){return this.getIntParam("l")},getPage:function(){return this.getIntParam("p")},getSortColumn:function(){return this.getParam("s")},getSortDirection:function(){return this.getParam("d")},getFilters:function(a){return this.filters},serializeParams:function(a){a=$H(a?a:this.params);a=a.inject({},function(d,c){d[c.key]=encodeURIComponent(c.value);return d});var b="t=#{t}&p=#{p}&l=#{l}".interpolate(a);
a.s&&(b+="&s=#{s}&d=#{d}".interpolate(a));return b},update:function(){if(this.enable){var a=this.getTableParams(),b=this.serializeParams(a),d=this.table.filter?this.table.filter.serializeFilters():"";if(!d.blank()||b!=this.serializeParams()){for(var c=window.location.hash.substring(1).split("|"),g="",e=0;e<c.length;e++)c[e].toQueryParams().t!=a.t&&(g+=c[e]+"|");this.params=a;this.filters=null;window.location.hash="#"+(g+b+d)}}}}),z=Class.create({initialize:function(a,b,d){this.table=a;var c=this;
this.pagesNodes=[];b.each(function(g){c.pagesNodes.push(g.down(".xwiki-livetable-pagination-content"))});this.max=d;$(this.table.domNodeName).select(".prevPagination").invoke("observe","click",this.gotoPrevPage.bind(this));$(this.table.domNodeName).select(".nextPagination").invoke("observe","click",this.gotoNextPage.bind(this))},refreshPagination:function(){var a=this;this.pagesNodes.each(function(f){f.innerHTML=""});var b=Math.ceil(this.table.totalRows/this.table.limit),d=this.max?this.max:b,c=Math.floor(this.table.lastOffset/
this.table.limit)+1,g=Math.floor(c/d)*d-1;1<g&&(this.pagesNodes.each(function(f){f.insert(a.createPageLink(1,!1))}),2<g&&this.pagesNodes.invoke("insert"," ... "));for(var e=0>=g?1:g;e<=Math.min(g+d+1,b);e++){var k=c==e;this.pagesNodes.each(function(f){f.insert(a.createPageLink(e,k))});this.pagesNodes.invoke("insert"," ")}e<b&&(e+1<b&&this.pagesNodes.invoke("insert"," ... "),this.pagesNodes.each(function(f){f.insert(a.createPageLink(b,!1))}));1>=c?this.pagesNodes.each(function(f){f.up().previous(".controlPagination")&&
(f=f.up().previous(".controlPagination").down(".prevPagination"))&&f.addClassName("noPrevPagination").removeClassName("prevPagination")}):this.pagesNodes.each(function(f){f.up().previous(".controlPagination")&&(f=f.up().previous(".controlPagination").down(".noPrevPagination"))&&f.addClassName("prevPagination").removeClassName("noPrevPagination")});c>=b?this.pagesNodes.each(function(f){f.up().previous(".controlPagination")&&(f=f.up().previous(".controlPagination").down(".nextPagination"))&&f.addClassName("noNextPagination").removeClassName("nextPagination")}):
this.pagesNodes.each(function(f){f.up().previous(".controlPagination")&&(f=f.up().previous(".controlPagination").down(".noNextPagination"))&&f.addClassName("nextPagination").removeClassName("noNextPagination")})},createPageLink:function(a,b){a=(new Element("a",{"class":"pagenumber",href:"#"})).update(a);b&&a.addClassName("selected");var d=this;a.observe("click",function(c){c.stop();d.gotoPage(c.element().innerHTML)});return a},gotoPage:function(a){this.table.showRows((parseInt(a)-1)*this.table.limit+
1,this.table.limit)},gotoPrevPage:function(a){a.stop();a=Math.floor(this.table.lastOffset/this.table.limit)+1-1;0<a&&this.table.showRows((parseInt(a)-1)*this.table.limit+1,this.table.limit)},gotoNextPage:function(a){a.stop();a=Math.floor(this.table.lastOffset/this.table.limit)+1+1;a<=Math.ceil(this.table.totalRows/this.table.limit)&&this.table.showRows((parseInt(a)-1)*this.table.limit+1,this.table.limit)}}),y=Class.create({initialize:function(a,b,d,c){this.table=a;this.currentValue=c;a=d||[];this.startValue=
a[0]||10;this.step=a[2]||10;this.maxValue=a[1]||100;var g=this;this.pageSizeNodes=[];b.each(function(e){g.pageSizeNodes.push(e.down(".xwiki-livetable-pagesize-content"))});this.pageSizeNodes.each(function(e){e.insert(g.createPageSizeSelectControl())})},createPageSizeSelectControl:function(){for(var a=new Element("select",{"class":"pagesizeselect"}),b=this.startValue;b<=this.maxValue;b+=this.step){var d={value:b,text:b};b==this.currentValue?d.selected=!0:this.currentValue>b-this.step&&this.currentValue<
b&&a.appendChild((new Element("option",{value:this.currentValue,text:this.currentValue,selected:!0})).update(this.currentValue));a.appendChild((new Element("option",d)).update(b))}a.observe("change",this.changePageSize.bind(this));return a},changePageSize:function(a){a=parseInt($F(Event.element(a)));this.table.setPageSize(a)}}),A=Class.create({initialize:function(a,b,d,c){this.table=a;this.filterNodes=b;this.filters=d||{};this.throttlingDelay=c.throttlingDelay||0;this.inputs=this.filterNodes.invoke("select",
"input").flatten();this.selects=this.filterNodes.invoke("select","select").flatten();this.initializeFilters();this.attachEventHandlers()},initializeFilters:function(){for(var a=0;a<this.inputs.length;++a){var b=this.inputs[a].name;if("radio"==this.inputs[a].type||"checkbox"==this.inputs[a].type){if(b=this.filters[b])Array.isArray(b)?this.inputs[a].checked=-1!=b.indexOf(this.inputs[a].value.strip()):this.inputs[a].checked=b==this.inputs[a].value.strip()}else this.filters[b]&&(this.inputs[a].value=
this.filters[b]),this.applyActiveFilterStyle(this.inputs[a])}this.selects.each(function(d){var c=this.filters[d.name];Array.isArray(c)||(c=[c]);for(var g=[],e=0;e<d.options.length;e++){var k=d.options[e];k.selected=0<=c.indexOf(k.value);k.selected&&g.push(k.value)}c.each(function(f){if("string"===typeof f&&0>g.indexOf(f)){var h=document.createElement("option");h.value=f;h.selected=!0;h.update(f.escapeHTML());d.insert(h)}},this);this.applyActiveFilterStyle(d)},this)},serializeFilters:function(){for(var a=
"",b=[this.inputs,this.selects].flatten(),d=0;d<b.length;d++){var c=b[d];if(!this._isBlank(c.getValue())||!this._isBlank(this.filters[c.name]))if("radio"!=c.type&&"checkbox"!=c.type||c.checked)a+="&"+c.serialize()}return a},_isBlank:function(a){return(Array.isArray(a)?a:[a]).every(function(b){return"string"!==typeof b||b.blank()})},attachEventHandlers:function(){for(var a=this.refreshHandler.bind(this),b=0;b<this.inputs.length;++b){var d=this.inputs[b],c=["change"];"text"==d.type?c.push("keyup"):
c.push("click");c.each(function(g){Event.observe(d,g,a)})}for(b=0;b<this.selects.length;++b)Event.observe(this.selects[b],"change",a);document.observe("xwiki:livetable:"+this.table.domNodeName+":filtersChanged",a)},refreshHandler:function(a){this.applyActiveFilterStyle(a.element());this.refreshContent()},refreshContent:function(){var a=this.serializeFilters();a!=this.table.filters&&(this.table.totalRows=-1,this.table.fetchedRows=[],this.table.filters=a,this.table.showRows(1,this.table.limit,this.throttlingDelay))},
applyActiveFilterStyle:function(a){if(a&&a.tagName&&("input"==a.tagName.toLowerCase()&&"text"==a.type||"select"==a.tagName.toLowerCase())){var b=$F(a);null!=b&&b.length?a.addClassName("xwiki-livetable-filter-active"):a.removeClassName("xwiki-livetable-filter-active")}}}),B=Class.create({initialize:function(a,b,d){this.table=a;this.domNode=$(b);this.cloudFilter=!1;this.selectedTags={};for(b=0;b<a.tags.length;b++)this.selectedTags[a.tags[b]]={};Array.isArray(d)&&(this.tags=d,0<d.length&&this.updateTagCloud(d))},
tags:[],matchingTags:{},selectedTags:{},popularityLevels:"notPopular notVeryPopular somewhatPopular popular veryPopular ultraPopular".split(" "),updateTagCloud:function(a,b){!this.hasTags&&0<a.length&&(this.tags=a,this.map=this.buildPopularityMap(this.tags),this.hasTags=!0,this.domNode.removeClassName("hidden"));this.matchingTags=Object.toJSON(b||{}).toLowerCase().evalJSON();this.displayTagCloud()},displayTagCloud:function(){this.domNode.down(".xwiki-livetable-tagcloud").innerHTML="";for(var a=new Element("ol",
{"class":"tagCloud"}),b=this.map?this.map.keys().sortBy(function(f){return parseInt(f)}).reverse():[],d,c=0;c<this.tags.length;c++){d="";for(var g=0;g<b.length;g++)if(this.tags[c].count>=b[g]||g==b.length-1){d=this.map.get(b[g]);break}g=this.tags[c].tag;var e=(new Element("span")).update(g.escapeHTML());d=(new Element("li",{"class":d})).update(e);"undefined"!=typeof this.matchingTags[g.toLowerCase()]&&(d.addClassName("selectable"),Event.observe(e,"click",function(f){var h=f.element().up("li").down("span").innerHTML.unescapeHTML();
f.element().up("li").toggleClassName("selected");f.element().up("li").hasClassName("selected")?k.selectedTags[h]={}:delete k.selectedTags[h];k.table.tags=k.getSelectedTags();k.table.totalRows=-1;k.table.fetchedRows=[];k.table.showRows(1,k.table.limit)}));"object"==typeof this.selectedTags[g]&&d.addClassName("selected");var k=this;d.appendChild(document.createTextNode(" "));a.appendChild(d)}this.domNode.down(".xwiki-livetable-tagcloud").appendChild(a)},getSelectedTags:function(){var a=[];this.domNode.select("li.selected").each(function(b){a.push(b.down("span").innerHTML)});
return a},buildPopularityMap:function(a){var b=0,d=0,c=-1;a.each(function(m){b+=m.count;if(m.count<d||0===d)d=m.count;if(m.count>c||-1===c)c=m.count});a=b/a.length;var g=this.popularityLevels.length/2,e=(c-a)/g,k=d,f=(a-d)/g,h=!1,n=0,r,t=new Hash;this.popularityLevels.each(function(m){n++;n>g&&!h&&(f=e,h=!0);r=k+f;t.set(r,m);k=r});return t}}),D=function(a){if(!a.__liveTable&&a.hasAttribute("data-settings")){var b=JSON.parse(a.getAttribute("data-settings"));b.name=b.name||"livetable_"+a.id;b.maxPages=
b.maxPages||10;b.limit=b.limit||15;b.selectedTags=b.selectedTags||[];b.callback=eval("["+b.callback+"]")[0];b.hasTopFilters&&(b.filterNodes=[a.querySelector(".xwiki-livetable-display-filters"),document.getElementById(a.id+"-topfilters")]);window[b.name]=a.__liveTable=new p.widgets.LiveTable(b.url,a.id,b.callback,b);b.hasPageSize&&(document.observe("xwiki:livetable:"+a.id+":loadingEntries",function(){document.getElementById(a.id+"-pagesize").classList.add("hidden")}),document.observe("xwiki:livetable:"+
a.id+":loadingComplete",function(){document.getElementById(a.id+"-pagesize").classList.remove("hidden")}))}},u=function(a){a&&"xwiki:dom:loading"!==a.eventName||document.fire("xwiki:livetable:loading");(a&&a.memo.elements||[document.body]).forEach(function(b){(b.classList.contains("xwiki-livetable")?[b]:b.querySelectorAll(".xwiki-livetable")).forEach(D)})};p.isInitialized&&u()||document.observe("xwiki:dom:loading",u);document.observe("xwiki:dom:updated",u);return p}(XWiki||{});

//# sourceMappingURL=livetable.min.js.map
