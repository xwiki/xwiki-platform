## ---------------------------------------------------------------------------
## See the NOTICE file distributed with this work for additional
## information regarding copyright ownership.
##
## This is free software; you can redistribute it and/or modify it
## under the terms of the GNU Lesser General Public License as
## published by the Free Software Foundation; either version 2.1 of
## the License, or (at your option) any later version.
##
## This software is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
## Lesser General Public License for more details.
##
## You should have received a copy of the GNU Lesser General Public
## License along with this software; if not, write to the Free
## Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
## 02110-1301 USA, or see the FSF site: http://www.fsf.org.
## ---------------------------------------------------------------------------
## The variables defined in this file were added in XWiki 17.3.0
## They should not be considered as API yet.
## After some first "private" uses and some unavoidable cleanup/completion, 
## this set of CSS variables should become an Unstable API.
## Once those variables become API, make sure to update the documentation accordingly.

## This template contains the initialization of various variable lists used both in CSS and LESS variables generation.
## The CSS and LESS generators are in charge of filtering those variables (their exact variable sets can be different).

############################################
## Flamingo color theme variables
############################################
## List of all the variables available to edit directly in the Flamingo theme editor.
#set($flamingoColorThemeVariables = {
    "text-color": "color",
    "body-bg": "color",
    "xwiki-page-content-bg" : "color",
    "font-family-base": "text",
    "link-color": "color",
    "brand-primary": "color",
    "brand-success": "color",
    "brand-info": "color",
    "brand-warning": "color",
    "brand-danger": "color",
    "headings-color": "color",
    "component-active-color" : "color",
    "component-active-bg" : "color",
    "font-family-base": "text",
    "font-family-sans-serif": "text",
    "font-family-serif": "text",
    "font-family-monospace": "font",
    "font-size-base" : "size",
    "btn-font-weight" : "size",
    "btn-default-color" : "color",
    "btn-default-bg" : "color",
    "btn-primary-color" : "color",
    "btn-primary-bg" : "color",
    "btn-success-color" : "color",
    "btn-success-bg" : "color",
    "btn-info-color" : "color",
    "btn-info-bg" : "color",
    "btn-warning-color" : "color",
    "btn-warning-bg" : "color",
    "btn-danger-color" : "color",
    "btn-danger-bg" : "color",
    "btn-default-border" : "color",
    "navbar-default-color" : "color",
    "navbar-default-bg" : "color",
    "navbar-default-link-color" : "color",
    "navbar-default-link-hover-color" : "color",
    "navbar-default-link-hover-bg" : "color",
    "navbar-default-link-active-color" : "color",
    "navbar-default-link-active-bg": "color",
    "navbar-height" : "size",
    "dropdown-bg" : "color",
    "dropdown-border" : "color",
    "dropdown-link-color" : "color",
    "dropdown-link-hover-color" : "color",
    "dropdown-link-hover-bg" : "color",
    "dropdown-divider-bg" : "color",
    "input-bg" : "color",
    "input-border" : "color",
    "input-color" : "color",
    "input-border-focus" : "color",
    "input-color-placeholder" : "color",
    "legend-color" : "color",
    "legend-border-color": "color",
    "panel-bg" : "color",
    "panel-default-text" : "color",
    "panel-header-text" : "color",
    "breadcrumb-bg": "color",
    "breadcrumb-color": "color",
    "breadcrumb-link-color": "color",
    "breadcrumb-separator": "escapedText",
    "table-bg": "color",
    "table-bg-hover": "color",
    "table-border-color": "color"
})

############################################
## XS specific variables
############################################
## List of all the variables set in XWiki standard for various purposes.
## This is a single source for both CSS and LESS value, they are separated afterwards.
## If the value is the same in both models, there is no need to write it twice.
#set($xsVariablesValues = {
    "figure-caption-font-size": "90%",
    "figure-caption-color": {"css": "\", "less": "@text-muted"},
    "target-size-minimum": "24px",
    "target-size-recommended": "44px",
    "breadcrumb-link-color": {"css": "var(--link-color)", "less": "@link-color"},
    "menu-default-color": {"css": "var(--navbar-default-color)", "less": "@navbar-default-color"},
    "menu-default-link-color": {"css": "var(--navbar-default-link-color)", "less": "@navbar-default-link-color"},
    "menu-default-link-hover-color": {"css": "var(--navbar-default-link-hover-color)", "less": "@navbar-default-link-hover-color"},
    "menu-default-link-hover-bg": {"css": "var(--navbar-default-link-hover-bg)", "less": "@navbar-default-link-hover-bg"},
    "menu-default-link-active-color": {"css": "var(--navbar-default-link-active-color)", "less": "@navbar-default-link-active-color"},
    "menu-default-link-active-bg": {"css": "var(--navbar-default-link-active-bg)", "less": "@navbar-default-link-active-bg"},
    "menu-height": "1.5lh",
    "menu-default-border": {"css": "var(--navbar-default-border)", "less": "@navbar-default-border"},
    "border-width": "1px",
    "headings-font-weight": "400",
    "nav-tabs-active-link-hover-bg": {"css": "var(--xwiki-page-content-bg)", "less": "@xwiki-page-content-bg"},
    "border-radius-base": "7px",
    "border-radius-large": "10px",
    "border-radius-small": "5px",
    "button-spacing": "2px",
    "button-border-width": "1px",
    "edit-section-relative-height": ".7",
    "main-padding": {"css": "calc(var(--grid-gutter-width) * 2)", "less": "@grid-gutter-width * 2"},
    "font-size-headings-scale": "1.190",
    "font-size-headings-scale-min": "1.125",
    "min-screen-size": "768",
    "max-screen-size": "1200",
    "min-h1-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), 4))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 4))))"},
    "max-h1-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), 4))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, 4))))"},
    "min-h2-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), 3))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 3))))"},
    "max-h2-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), 3))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, 3))))"},
    "min-h3-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), 2))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 2))))"},
    "max-h3-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), 2))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, 2))))"},
    "min-h4-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), 1))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 1))))"},
    "max-h4-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), 1))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, 1))))"},
    "min-h6-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), -1))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, -1))))"},
    "max-h6-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), -1))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, -1))))"},
    "min-document-title-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale-min), 5))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 5))))"},
    "max-document-title-font-size": {"css": "calc(var(--font-size-base) * pow(var(--font-size-headings-scale), 5))", "less": "unit(ceil((@font-size-base * pow(@font-size-headings-scale, 5))))"},
    "font-size-document-title": {
        "css": "calc(max(var(--min-document-title-font-size) * 1px, min(var(--max-document-title-font-size) * 1px, var(--min-document-title-font-size) * 1px + (var(--max-document-title-font-size) - var(--min-document-title-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-document-title-font-size}px, min(@{max-document-title-font-size}px, calc(@{min-document-title-font-size}px - (@{min-document-title-font-size} - @{max-document-title-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "font-size-h1": {
        "css": "calc(max(var(--min-h1-font-size), min(var(--max-h1-font-size), var(--min-h1-font-size) + (var(--max-h1-font-size) - var(--min-h1-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-h1-font-size}px, min(@{max-h1-font-size}px, calc(@{min-h1-font-size}px + (@{max-h1-font-size} - @{min-h1-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "font-size-h2": {
        "css": "calc(max(var(--min-h2-font-size), min(var(--max-h2-font-size), var(--min-h2-font-size) + (var(--max-h2-font-size) - var(--min-h2-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-h2-font-size}px, min(@{max-h2-font-size}px, calc(@{min-h2-font-size}px + (@{max-h2-font-size} - @{min-h2-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "font-size-h3": {
        "css": "calc(max(var(--min-h3-font-size), min(var(--max-h3-font-size), var(--min-h3-font-size) + (var(--max-h3-font-size) - var(--min-h3-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-h3-font-size}px, min(@{max-h3-font-size}px, calc(@{min-h3-font-size}px + (@{max-h3-font-size} - @{min-h3-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "font-size-h4": {
        "css": "calc(max(var(--min-h4-font-size), min(var(--max-h4-font-size), var(--min-h4-font-size) + (var(--max-h4-font-size) - var(--min-h4-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-h4-font-size}px, min(@{max-h4-font-size}px, calc(@{min-h4-font-size}px + (@{max-h4-font-size} - @{min-h4-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "font-size-h5": {"css": "var(--font-size-base)", "less": "@font-size-base"},
    "font-size-h6": {
        "css": "calc(max(var(--min-h6-font-size), min(var(--max-h6-font-size), var(--min-h6-font-size) + (var(--max-h6-font-size) - var(--min-h6-font-size)) * (var(--int-viewport-width) - var(--min-screen-size)) / (var(--max-screen-size) - var(--min-screen-size)))))",
        "less": '~"max(@{min-h6-font-size}px, min(@{max-h6-font-size}px, calc(@{min-h6-font-size}px + (@{max-h6-font-size} - @{min-h6-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))"'
    },
    "navbar-default-link-color": "#727272",
    "navbar-default-color": "#727272",
    "input-color-placeholder": "#727272",
    "breadcrumb-active-color": "#707070",
    "breadcrumb-color": "#707070",
    "text-muted": "#555",
    "brand-primary": "#2f70a7",
    "text-color": "#222222",
    "btn-primary-bg": "#386da7",
    "btn-danger-bg": "#ca302c",
    "brand-success": "#077537",
    "btn-warning-color": "#000",
    "alert-danger-bg": "#f8ecec",
    "alert-success-bg": "#e5f3df",
    "alert-info-bg": "#e1f1f9",
    "brand-danger": "#cc3333"
})

## Separate values for the CSS and LESS variable sets for convenience sakew
#set($xsVariablesValuesCSS = {})
#set($xsVariablesValuesLESS = {})
#foreach($variableEntry in $xsVariablesValues.entrySet())
    #set($variableName = $variableEntry.key)
    #set($variableValue = $variableEntry.value)
    #if("$!variableValue.css" != '')
        #set($xsVariablesValuesCSS[$variableName] = $variableValue.css)
        #set($xsVariablesValuesLESS[$variableName] = $variableValue.less)
    #else
        #set($xsVariablesValuesCSS[$variableName] = $variableValue)
        #set($xsVariablesValuesLESS[$variableName] = $variableValue)
    #end
#end

############################################
## Bootstrap variables
############################################
## List of Bootstrap variables we need to give default values for XWiki standard variables shown above
#set($bootstrapVariables = {
    "btn-danger-color" : "#fff",
    "btn-default-border" : "#ccc",
    "btn-font-weight" : "normal",
    "btn-info-color" : "#fff",
    "btn-info-bg" : "var(--brand-info)",
    "btn-warning-bg" : "var(--brand-warning)",
    "breadcrumb-bg": "#f5f5f5",
    "breadcrumb-link-color": "var(--link-color)",
    "breadcrumb-separator": "/",
    "component-active-color": "#fff",
    "component-active-bg":"var(--brand-primary)",
    "dropdown-border" : "rgba(0, 0, 0, .15)",
    "dropdown-divider-bg" : "#e5e5e5",
    "font-family-base": "var(--font-family-sans-serif)",
    "font-family-sans-serif": '"Helvetica Neue", Helvetica, Arial, sans-serif',
    "font-family-serif": 'Georgia, "Times New Roman", Times, serif',
    "font-family-monospace": 'Georgia, "Times New Roman", Times, serif',
    "font-size-base": "1rem",
    "font-size-small": ".85rem",
    "grid-gutter-width": "30px",
    "input-bg" : "#fff",
    "input-border-focus": "#66afe9",
    "legend-color" : "#333",
    "legend-border-color": "#e5e5e5",
    "list-group-hover-bg": "#f5f5f5",
    "list-group-link-color": "#555",
    "list-group-link-hover-color": "var(--list-group-link-color)",
    "navbar-height" : "50px",
    "table-bg-hover": "#f5f5f5",
    "table-border-color": "#ddd",
    "state-danger-text": "#a94442"
})

############################################
## Old color theme variables
############################################
## Generate the old colortheme variables
#template('colorThemeInit.vm')
## List of all the variables that get their values from old colortheme variables.
## The last group contains XWiki specific variables.
#set($xsFromOldColorThemeVariables = {
    "panel-header-bg": $theme.panelHeaderBackgroundColor,
    "panel-header-text": $theme.panelHeaderTextColor,
    "xwiki-panel-header-bg": $theme.panelHeaderBackgroundColor,
    "xwiki-panel-header-text": $theme.panelHeaderTextColor,
    "xwiki-border-color": $theme.borderColor,
    "xwiki-page-content-bg": $theme.pageContentBackgroundColor,
    "xwiki-background-secondary-color": $theme.backgroundSecondaryColor,
    "xwiki-page-header-bg-color": $theme.pageHeaderBackgroundColor,
    "xwiki-page-header-bg-image": $stringtool.defaultString($theme.headerBackgroundImage, '""'),
    "xwiki-page-header-bg-position": $stringtool.defaultString($theme.headerBackgroundPosition, '""')
})

#set($bootstrapFromOldColorThemeVariables = {
    "text-color": $theme.textColor,
    "link-color": $theme.linkColor,
    "headings-color": $theme.titleColor,
    "body-bg": $theme.pageBackgroundColor,
    "nav-tabs-border-color": $theme.borderColor,
    "nav-tabs-active-link-hover-border-color": $theme.borderColor,
    "pagination-border": $theme.borderColor,
    "pagination-hover-border": $theme.borderColor,
    "pagination-disabled-border": $theme.borderColor,
    "list-group-border": $theme.borderColor,
    "thumbnail-border": $theme.borderColor,
    "input-border": $theme.borderColor,

    "navbar-default-toggle-border-color": $theme.borderColor,
    "navbar-default-bg": $theme.menuBackgroundColor,
    "navbar-default-link-color": $theme.menuLinkColor,
    "navbar-default-link-disabled-color": $theme.menuContentLinkColor,
    "navbar-default-link-active-bg": $theme.menuBackgroundColor,
    "navbar-default-link-active-color": $theme.menuLinkColor,
    "navbar-default-link-hover-bg": $theme.menuBackgroundColor,
    "navbar-default-link-hover-color": $theme.menuLinkColor,
    "dropdown-bg": $theme.pageContentBackgroundColor,
    "dropdown-link-color": $theme.textColor,
    "dropdown-link-hover-bg": $theme.submenuContentBackgroundColor,
    "dropdown-link-hover-color": $theme.textColor,

    "btn-primary-color": $theme.buttonPrimaryTextColor,
    "btn-primary-bg": $theme.buttonPrimaryBackgroundColor,
    "btn-default-color": $theme.buttonSecondaryTextColor,
    "btn-default-bg": $theme.buttonSecondaryBackgroundColor,
    "btn-success-color": $theme.menuAddEntryLinkColor,
    "btn-success-bg": $theme.menuAddEntryBackgroundColor,
    "nav-tabs-active-link-hover-bg": $theme.pageContentBackgroundColor,
    "nav-link-hover-bg": $theme.highlightColor,
    "brand-primary": $theme.buttonPrimaryBackgroundColor,
    "brand-success": $theme.notificationSuccessColor,
    "brand-info": $theme.notificationInfoColor,
    "brand-warning": $theme.notificationWarningColor,
    "brand-danger": $theme.notificationErrorColor,
    "panel-bg": $theme.panelBackgroundColor,
    "panel-default-text": $theme.panelTextColor
})
#set($oldColorThemeVariables = {})
#set($discard = $oldColorThemeVariables.putAll($xsFromOldColorThemeVariables))
#set($discard = $oldColorThemeVariables.putAll($bootstrapFromOldColorThemeVariables))
