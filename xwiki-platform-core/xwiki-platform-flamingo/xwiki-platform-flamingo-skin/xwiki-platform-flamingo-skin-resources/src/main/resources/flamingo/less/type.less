//
// Typography
// --------------------------------------------------

// Local Mixins ===========================================================

.text-smaller {
  font-size: floor(@font-size-base * 0.9);
}

.text-muted-smaller {
  .text-muted;
  .text-smaller;
}

// Headings ===============================================================


// Since 15.9RC1: Defines the ratio between two headings levels (e.g., h1 is @font-size-headings-scale times larger than
// h2)?
@font-size-headings-scale: 1.190;
@font-size-headings-scale-min: 1.125;
@min-screen-size: 768;
@max-screen-size: 1200;

// Headings size is following a scale where each level is X times larger than the lower level.
// Heading 5 is the same size as the base font size

// H1
@min-h1-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 4))));
@max-h1-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, 4))));
@font-size-h1: ~"max(@{min-h1-font-size}px, min(@{max-h1-font-size}px, calc(@{min-h1-font-size}px + (@{max-h1-font-size} - @{min-h1-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

// H2
@min-h2-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 3))));
@max-h2-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, 3))));
@font-size-h2: ~"max(@{min-h2-font-size}px, min(@{max-h2-font-size}px, calc(@{min-h2-font-size}px + (@{max-h2-font-size} - @{min-h2-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

// H3
@min-h3-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 2))));
@max-h3-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, 2))));
@font-size-h3: ~"max(@{min-h3-font-size}px, min(@{max-h3-font-size}px, calc(@{min-h3-font-size}px + (@{max-h3-font-size} - @{min-h3-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

// H4
@min-h4-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 1))));
@max-h4-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, 1))));
@font-size-h4: ~"max(@{min-h4-font-size}px, min(@{max-h4-font-size}px, calc(@{min-h4-font-size}px + (@{max-h4-font-size} - @{min-h4-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

// H5
// The computations are not required for h5 as it is always the size of the base font size.
@font-size-h5: @font-size-base;

// H6
// Note that the h6 heading is actually getting larger as the screen width decreases.
@min-h6-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, -1))));
@max-h6-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, -1))));
@font-size-h6: ~"max(@{min-h6-font-size}px, min(@{max-h6-font-size}px, calc(@{min-h6-font-size}px + (@{max-h6-font-size} - @{min-h6-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

// Document title
// The document title is a h1 heading one size higher in the size scale 
// (e.g., 1.250 larger than the content's h1 headings)
@min-document-title-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale-min, 5))));
@max-document-title-font-size: unit(ceil((@font-size-base * pow(@font-size-headings-scale, 5))));
@font-size-document-title: ~"max(@{min-document-title-font-size}px, min(@{max-document-title-font-size}px, calc(@{min-document-title-font-size}px + (@{max-document-title-font-size} - @{min-document-title-font-size}) * (100vw - @{min-screen-size}px) / (@{max-screen-size} - @{min-screen-size}))))";

#document-title h1 {
  font-size: @font-size-document-title;
  margin-top: 0;
}

h1.xwikipaneltitle, h2.xwikipaneltitle {
  // Panels headings are the same size as the content's h4 headings.
  font-size: @font-size-h4;
}

// Muted Usage ============================================================

.separator, .itemCount {
  .text-muted;
}

.noitems {
  .text-muted-smaller;
}

#hierarchy, 
#xdocAuthors,
.xdocLastModification,
#xdocFooter,
#historyform td, #changes-info {
  .text-muted-smaller;
}

ul.xlist li.create a {
  .text-muted;
}

// Verbatim ===============================================================

tt.wikimodel-verbatim, span.wikimodel-verbatim {
  font-family: sans-serif;
  white-space: pre-wrap;
}

// Description Lists ======================================================

dl dd dl {
  margin-left: @grid-gutter-width;
  margin-bottom: 0;
}
