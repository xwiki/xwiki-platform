{"version":3,"file":"index.es.js","sources":["../src/DefaultLinkSuggestServiceProvider.ts","../src/componentInit.ts","../src/linkType.ts","../src/index.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { inject, injectable } from \"inversify\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\nimport type { LinkSuggestService } from \"./linkSuggestService\";\nimport type { CristalApp } from \"@xwiki/platform-api\";\n\n/**\n * @since 0.11\n * @beta\n */\n@injectable()\nclass DefaultLinkSuggestServiceProvider implements LinkSuggestServiceProvider {\n  constructor(@inject(\"CristalApp\") private cristalApp: CristalApp) {}\n\n  get(type?: string): LinkSuggestService | undefined {\n    const resolvedType = type || this.cristalApp.getWikiConfig().getType();\n    try {\n      return this.cristalApp\n        .getContainer()\n        .get(\"LinkSuggestService\", { name: resolvedType });\n    } catch (e) {\n      this.cristalApp\n        .getLogger(\"link.suggest.api\")\n        .warn(\n          `Couldn't resolve LinkSuggestService for type=[${resolvedType}]`,\n          e,\n        );\n      return undefined;\n    }\n  }\n}\n\nexport { DefaultLinkSuggestServiceProvider };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\nimport { DefaultLinkSuggestServiceProvider } from \"./DefaultLinkSuggestServiceProvider\";\nimport { Container } from \"inversify\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\n\n/**\n * @since 0.11\n * @beta\n */\nclass ComponentInit {\n  constructor(container: Container) {\n    container\n      .bind<LinkSuggestServiceProvider>(\"LinkSuggestServiceProvider\")\n      .to(DefaultLinkSuggestServiceProvider)\n      .inSingletonScope();\n  }\n}\n\nexport { ComponentInit };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n *\n * @since 0.11\n * @beta\n */\nenum LinkType {\n  PAGE,\n  ATTACHMENT,\n}\n\nexport { LinkType };\n","/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport { ComponentInit } from \"./componentInit\";\nimport { LinkType } from \"./linkType\";\nimport type { LinkSuggestServiceProvider } from \"./LinkSuggestServiceProvider\";\nimport type { Link } from \"./link\";\nimport type { LinkSuggestService } from \"./linkSuggestService\";\n\n/**\n * The component id of LinkSuggestService.\n * @since 0.8\n * @beta\n */\nconst name = \"LinkSuggestService\";\n\nexport {\n  ComponentInit,\n  type Link,\n  type LinkSuggestService,\n  type LinkSuggestServiceProvider,\n  LinkType,\n  name,\n};\n"],"names":["DefaultLinkSuggestServiceProvider","cristalApp","type","resolvedType","e","__decorateClass","injectable","__decorateParam","ComponentInit","container","LinkType","name"],"mappings":";;;;;;AA8BA,IAAMA,IAAN,MAA8E;AAAA,EAC5E,YAA0CC,GAAwB;AAAxB,SAAA,aAAAA;AAAA,EAAyB;AAAA,EAEnE,IAAIC,GAA+C;AACjD,UAAMC,IAAeD,KAAQ,KAAK,WAAW,cAAA,EAAgB,QAAA;AAC7D,QAAI;AACF,aAAO,KAAK,WACT,aAAA,EACA,IAAI,sBAAsB,EAAE,MAAMC,GAAc;AAAA,IACrD,SAASC,GAAG;AACV,WAAK,WACF,UAAU,kBAAkB,EAC5B;AAAA,QACC,iDAAiDD,CAAY;AAAA,QAC7DC;AAAA,MAAA;AAEJ;AAAA,IACF;AAAA,EACF;AACF;AAnBMJ,IAANK,EAAA;AAAA,EADCC,EAAA;AAAA,EAEcC,OAAO,YAAY,CAAA;AAAA,GAD5BP,CAAA;ACHN,MAAMQ,EAAc;AAAA,EAClB,YAAYC,GAAsB;AAChC,IAAAA,EACG,KAAiC,4BAA4B,EAC7D,GAAGT,CAAiC,EACpC,iBAAA;AAAA,EACL;AACF;ACZA,IAAKU,sBAAAA,OACHA,EAAAA,EAAA,OAAA,CAAA,IAAA,QACAA,EAAAA,EAAA,aAAA,CAAA,IAAA,cAFGA,IAAAA,KAAA,CAAA,CAAA;ACSL,MAAMC,IAAO;"}