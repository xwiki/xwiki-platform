{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\nimport type {\n  DocumentReference,\n  SpaceReference,\n} from \"@xwiki/cristal-model-api\";\n\n/**\n * Description of a navigation tree node.\n * @since 0.10\n * @beta\n */\ntype NavigationTreeNode = {\n  /** the id of a node, used by the NavigationTreeSource to access children */\n  id: string;\n  label: string;\n  /** the location of the corresponding page on Cristal */\n  location: SpaceReference | DocumentReference;\n  url: string;\n  has_children: boolean;\n  /**\n   * Whether this node corresponds to a terminal page.\n   * @since 0.16\n   * @beta\n   */\n  is_terminal: boolean;\n};\n\n/**\n * A NavigationTreeSource computes and returns a wiki's navigation tree.\n *\n * @since 0.10\n * @beta\n **/\ninterface NavigationTreeSource {\n  /**\n   * Returns the direct child nodes for a given page id in the navigation tree.\n   * If the page id is omitted, returns the root nodes instead.\n   *\n   * @param id - the page id\n   * @returns the descendants in the navigation tree\n   */\n  getChildNodes(id?: string): Promise<Array<NavigationTreeNode>>;\n\n  /**\n   * Returns the ids of the parents nodes for a given page.\n   *\n   * @param page - the reference to the page\n   * @param includeTerminal - whether to include the final terminal page (default: true)\n   * @param includeRootNode - whether to include a root node with empty id (default: false)\n   * @returns the parents nodes ids\n   * @since 0.20\n   * @beta\n   **/\n  getParentNodesId(\n    page: DocumentReference,\n    includeTerminal?: boolean,\n    includeRootNode?: boolean,\n  ): Array<string>;\n}\n\n/**\n * A NavigationTreeSourceProvider returns the instance of NavigationTreeSource\n * matching the current wiki configuration.\n *\n * @since 0.10\n * @beta\n **/\ninterface NavigationTreeSourceProvider {\n  /**\n   * Returns the instance of NavigationTreeSource matching the current wiki\n   * configuration.\n   *\n   * @returns the instance of NavigationTreeSource\n   */\n  get(): NavigationTreeSource;\n}\n\n/**\n * The component id of NavigationTreeSource.\n * @since 0.10\n * @beta\n */\nconst name = \"NavigationTreeSource\";\n\nexport {\n  type NavigationTreeNode,\n  type NavigationTreeSource,\n  type NavigationTreeSourceProvider,\n  name,\n};\n"],"names":["name"],"mappings":"sPAqGA,MAAMA,EAAO"}