<script type="text/javascript" src="$xwiki.getSkinFile("js/xwiki/wikieditor/wikibits.js")"></script>
<script type="text/javascript">
## Syntax elements is a list of: [identifier, start markup, end markup, image name].
## The identifier is used to display the button title, and the sample text.
## The image is retrieved from /resources/icons/silk/imageName.png
#set($syntax10Elements = [])
#set($discard = $syntax10Elements.add(['bold', '*', '*', 'text_bold']))
#set($discard = $syntax10Elements.add(['italics', '~~', '~~', 'text_italic']))
#set($discard = $syntax10Elements.add(['underline', '__', '__', 'text_underline']))
#set($discard = $syntax10Elements.add(['strikethrough', '--', '--', 'text_strikethrough']))
#set($discard = $syntax10Elements.add(['ulist', '\n* ', '\n', 'text_list_bullets']))
#set($discard = $syntax10Elements.add(['olist', '\n# ', '\n', 'text_list_numbers']))
#set($discard = $syntax10Elements.add(['ilink', '[', ']', 'link']))
#set($discard = $syntax10Elements.add(['elink', '[', ']', 'link_go']))
#set($discard = $syntax10Elements.add(['h1', '\n1 ', '\n', 'text_heading_1']))
#set($discard = $syntax10Elements.add(['h2', '\n1.1 ', '\n', 'text_heading_2']))
#set($discard = $syntax10Elements.add(['h3', '\n1.1.1 ', '\n', 'text_heading_3']))
#set($discard = $syntax10Elements.add(['h4', '\n1.1.1.1 ', '\n', 'text_heading_4']))
#set($discard = $syntax10Elements.add(['hr', '\n----\n', '', 'text_horizontalrule']))
#set($discard = $syntax10Elements.add(['img', '{image:', '}', 'image']))
#set($tmp = '#sign("' + $xcontext.user + '")')
#set($discard = $syntax10Elements.add(['sign', $tmp, '', 'text_signature']))
#set($syntax20Elements = [])
#set($discard = $syntax20Elements.add(['bold', '**', '**', 'text_bold']))
#set($discard = $syntax20Elements.add(['italics', '//', '//', 'text_italic']))
#set($discard = $syntax20Elements.add(['underline', '__', '__', 'text_underline']))
#set($discard = $syntax20Elements.add(['strikethrough', '--', '--', 'text_strikethrough']))
#set($discard = $syntax20Elements.add(['subscript', ',,', ',,', 'text_subscript']))
#set($discard = $syntax20Elements.add(['superscript', '^^', '^^', 'text_superscript']))
#set($discard = $syntax20Elements.add(['ulist', '\n* ', "\n* $msg.get('core.edit.wikiToolbar.ulisttext')\n* $msg.get('core.edit.wikiToolbar.ulisttext')\n", 'text_list_bullets']))
#set($discard = $syntax20Elements.add(['olist', '\n1. ', "\n1. $msg.get('core.edit.wikiToolbar.olisttext')\n1. $msg.get('core.edit.wikiToolbar.olisttext')\n", 'text_list_numbers']))
#set($discard = $syntax20Elements.add(['ilink', '[[', ']]', 'link']))
#set($discard = $syntax20Elements.add(['elink20', '[[', ']]', 'link_go']))
#set($discard = $syntax20Elements.add(['h1', '\n= ', '=\n', 'text_heading_1']))
#set($discard = $syntax20Elements.add(['h2', '\n== ', '==\n', 'text_heading_2']))
#set($discard = $syntax20Elements.add(['h3', '\n=== ', '===\n', 'text_heading_3']))
#set($discard = $syntax20Elements.add(['h4', '\n==== ', '====\n', 'text_heading_4']))
#set($discard = $syntax20Elements.add(['hr', '\n----\n', '', 'text_horizontalrule']))
#set($discard = $syntax20Elements.add(['img', '[[image:', ']]', 'image']))
#set($discard = $syntax20Elements.add(['html', '\n{{html}}\n', '\n{{/html}}\n', 'html']))
#set($discard = $syntax20Elements.add(['velocity', '\n{{velocity}}\n', '\n{{/velocity}}\n', 'cog']))
#set($confluence10Elements = [])
#set($discard = $confluence10Elements.add(['bold', '*', '*', 'text_bold']))
#set($discard = $confluence10Elements.add(['italics', '_', '_', 'text_italic']))
#set($discard = $confluence10Elements.add(['underline', '+', '+', 'text_underline']))
#set($discard = $confluence10Elements.add(['strikethrough', '-', '-', 'text_strikethrough']))
#set($discard = $confluence10Elements.add(['subscript', '~', '~', 'text_subscript']))
#set($discard = $confluence10Elements.add(['superscript', '^', '^', 'text_superscript']))
#set($discard = $confluence10Elements.add(['ulist', '\n* ', "\n* $msg.get('core.edit.wikiToolbar.ulisttext')\n* $msg.get('core.edit.wikiToolbar.ulisttext')\n", 'text_list_bullets']))
#set($discard = $confluence10Elements.add(['olist', '\n# ', "\n# $msg.get('core.edit.wikiToolbar.olisttext')\n# $msg.get('core.edit.wikiToolbar.olisttext')\n", 'text_list_numbers']))
#set($discard = $confluence10Elements.add(['ilink', '[', ']', 'link']))
#set($discard = $confluence10Elements.add(['h1', '\nh1. ', '\n', 'text_heading_1']))
#set($discard = $confluence10Elements.add(['h2', '\nh2. ', '\n', 'text_heading_2']))
#set($discard = $confluence10Elements.add(['h3', '\nh3. ', '\n', 'text_heading_3']))
#set($discard = $confluence10Elements.add(['h4', '\nh4. ', '\n', 'text_heading_4']))
#set($discard = $confluence10Elements.add(['hr', '\n----\n', '', 'text_horizontalrule']))
#set($discard = $confluence10Elements.add(['img', '!', '!', 'image']))
#if($doc.syntax.toIdString() == 'xwiki/1.0')
  #set($syntaxElements = $syntax10Elements)
#elseif($doc.syntax.toIdString() == "xwiki/2.0" || $doc.syntax.toIdString() == "xwiki/2.1")
  #set($syntaxElements = $syntax20Elements)
#elseif($doc.syntax.toIdString() == "confluence/1.0")
  #set ($syntaxElements = $confluence10Elements)
#end
// <![CDATA[
document.writeln("<div class='leftmenu2'>");
#foreach($item in $syntaxElements)
  #set($imageFile = $xwiki.getSkinFile("icons/silk/${item.get(3)}.png"))
  #set($speedTip = $escapetool.javascript($msg.get("core.edit.wikiToolbar.${item.get(0)}")))
  #set($tagOpen = $escapetool.javascript($item.get(1)))
  #set($tagClose = $escapetool.javascript($item.get(2)))
  #set($sampleText = $escapetool.javascript($msg.get("core.edit.wikiToolbar.${item.get(0)}text")))
  addButton('$imageFile', '$speedTip', '$tagOpen', '$tagClose', '$sampleText');
#end
document.writeln("<" + "/div>");
// ]]>
</script>
