.#----------------------------------------------------------------------------------------------------
.input|xwiki/2.0
.# Verify trimming of whitespaces/new lines when in wiki mode (wiki syntax allowed in element content)
.# Note: whitespaces in PRE and CDATA element are preserved (except for leading and trailing ones)
.#----------------------------------------------------------------------------------------------------
{{html wiki="true"}}
.# Verify that white spaces are correctly handled in an implicit paragraph (i.e. invalid XHTML fixed
.# by the HTML cleaner and transformed into a valid XHTML paragraph)
a <strong>b</strong> c 
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
{{/html}}
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginMacroMarkerStandalone [html] [wiki=true] [
a <strong>b</strong> c 
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
beginXMLNode [p]
onWord [a]
onSpace
beginXMLNode [strong]
onWord [b]
endXMLNode [strong]
onSpace
onWord [c]
endXMLNode [p]
beginXMLNode [pre]
onWord [newline]
onNewLine
onSpace
onSpace
onWord [newline]
endXMLNode [pre]
beginXMLNode [p]
onWord [Some]
onSpace
beginXMLNode [span]
onWord [text]
onSpace
endXMLNode [span]
beginXMLNode [comment]
endXMLNode [comment]
onWord [another]
onSpace
beginXMLNode [CDATA]
onWord [hello]
onSpace
onSpace
onWord [world]
endXMLNode [CDATA]
endXMLNode [p]
endMacroMarkerStandalone [html] [wiki=true] [
a <strong>b</strong> c 
<pre>
  newline
  newline
</pre>
<p> Some  <span>  text 
</span>
<!--comment-->  another  <![CDATA[
hello  world
   ]]>
</p>
]
endDocument