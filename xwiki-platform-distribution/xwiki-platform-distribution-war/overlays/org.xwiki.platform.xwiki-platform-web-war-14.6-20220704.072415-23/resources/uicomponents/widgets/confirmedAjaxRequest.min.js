'use strict';"undefined"==typeof XWiki||"undefined"==typeof XWiki.widgets||"undefined"==typeof XWiki.widgets.ConfirmationBox?"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[MessageBox widget] Required class missing: XWiki.widgets.ModalPopup"):XWiki.widgets.ConfirmedAjaxRequest=Class.create(XWiki.widgets.ConfirmationBox,{defaultAjaxRequestParameters:{on0:function(b){b.request.options.onFailure(b)}},initialize:function($super,d,a,e){this.interactionParameters=Object.extend({displayProgressMessage:!0,
progressMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.inProgress')",displaySuccessMessage:!0,successMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.done')",displayFailureMessage:!0,failureMessageText:"$services.localization.render('core.widgets.confirmationBox.notification.failed')"},e||{});this.requestUrl=d;this.ajaxRequestParameters=Object.extend(Object.clone(this.defaultAjaxRequestParameters),a||{});Object.extend(this.ajaxRequestParameters,
{onSuccess:function(){this.interactionParameters.displaySuccessMessage?this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done")):new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done"):this.progressNotification&&this.progressNotification.hide();a.onSuccess&&a.onSuccess.apply(this,arguments)}.bind(this),onFailure:function(f){if(this.interactionParameters.displayFailureMessage){var c=
f.statusText||"Server not responding";this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+c,"error")):new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+c,"error")}else this.progressNotification&&this.progressNotification.hide();a.onFailure&&a.onFailure.apply(this,arguments)}.bind(this)});$super({onYes:function(){this.interactionParameters.displayProgressMessage&&(this.progressNotification=
new XWiki.widgets.Notification(this.interactionParameters.progressMessageText,"inprogress"));new Ajax.Request(this.requestUrl,this.ajaxRequestParameters)}.bind(this)},this.interactionParameters)}});

//# sourceMappingURL=confirmedAjaxRequest.min.js.map
