### Buttons displayed in the preview interface: cancel, back to edit, save and continue, save and view.
###
#if("$!showactions" != '0')
  #set($backToEditAction = "$!{request.xeditaction}")
  #if($backToEditAction == '')
    #set($backToEditAction = 'edit')
  #end
  #set($keyboardShortcutsEnabled = true)
  #set($editor = "$!request.xcontinue")
  #if($editor == '')
    #set($editor = "$!request.getHeader('Referer')")
    #if($editor == '')
      #if($doc.content.indexOf("includeForm(")!=-1)
        #set($editor=$tdoc.getURL('inline', "$!docvariant"))
      #else
        #if($xwiki.getUserPreference('editor') == 'Wysiwyg' && (!$tdoc.isAdvancedContent()))
          #set($editor=$tdoc.getURL("edit", "editor=wysiwyg&amp;$docvariant"))
        #else
          #set($editor=$tdoc.getURL("edit", "editor=wiki&amp;$docvariant"))
        #end
      #end
    #end
  #end
<form id="backtoedit" action="$editor" method="post">
  <div>
  #foreach($param in $request.getParameterNames())
    #if(!$param.startsWith('action_'))
      #foreach($value in $request.getParameterValues($param))
        <input type="hidden" name="$param" value="$xwiki.getFormEncoded($value)"/>
      #end
    #end
  #end
  #editActionButton('cancel', 'cancel')
  #editActionButton($backToEditAction, 'backtoedit')
  #editActionButton('saveandcontinue', 'saveandcontinue')
  #editActionButton('save', 'saveandview')
  </div>
</form>
#end ## showactions