{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * See the LICENSE file distributed with this work for additional\n * information regarding copyright ownership.\n *\n * This is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as\n * published by the Free Software Foundation; either version 2.1 of\n * the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this software; if not, write to the Free\n * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n * 02110-1301 USA, or see the FSF site: http://www.fsf.org.\n */\n\n/**\n * @since 0.12\n * @beta\n */\nenum EntityType {\n  WIKI,\n  SPACE,\n  DOCUMENT,\n  ATTACHMENT,\n}\n\n/**\n * @since 0.12\n * @beta\n */\ninterface BaseEntityReference {\n  type: EntityType;\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass WikiReference implements BaseEntityReference {\n  type: EntityType.WIKI = EntityType.WIKI;\n\n  name: string;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass SpaceReference implements BaseEntityReference {\n  type: EntityType.SPACE = EntityType.SPACE;\n  wiki?: WikiReference;\n  names: string[];\n\n  constructor(wiki?: WikiReference, ...names: string[]) {\n    this.wiki = wiki;\n    this.names = names;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass DocumentReference implements BaseEntityReference {\n  type: EntityType.DOCUMENT = EntityType.DOCUMENT;\n  space?: SpaceReference;\n  name: string;\n  /**\n   * Indicates whether the current document reference is terminal.\n   * @since 0.13\n   * @beta\n   */\n  terminal: boolean;\n\n  constructor(name: string, space?: SpaceReference, terminal?: boolean) {\n    this.space = space;\n    this.name = name;\n    this.terminal = terminal ?? false;\n  }\n}\n\n/**\n * @since 0.12\n * @beta\n */\nclass AttachmentReference implements BaseEntityReference {\n  type: EntityType.ATTACHMENT = EntityType.ATTACHMENT;\n  name: string;\n  document: DocumentReference;\n  /**\n   * @since 0.22\n   */\n  private readonly _metadata: Record<string, string>;\n\n  /**\n   *\n   * @param name - the name of the attachment\n   * @param document - the document reference of the attachment\n   * @param metadata - (since 0.22) the metadata of the attachment, can be used to store additional information\n   *  about the attachment (e.g., additional information for a given backend)\n   */\n  constructor(\n    name: string,\n    document: DocumentReference,\n    metadata?: Record<string, string>,\n  ) {\n    this.name = name;\n    this.document = document;\n    this._metadata = metadata ?? {};\n  }\n\n  get metadata(): Record<string, string> {\n    return this._metadata;\n  }\n}\n\n/**\n * @since 0.16\n * @beta\n */\ntype EntityReference =\n  | AttachmentReference\n  | DocumentReference\n  | SpaceReference\n  | WikiReference;\n\nexport {\n  AttachmentReference,\n  type BaseEntityReference,\n  DocumentReference,\n  type EntityReference,\n  EntityType,\n  SpaceReference,\n  WikiReference,\n};\n"],"names":["EntityType","WikiReference","name","SpaceReference","wiki","names","DocumentReference","space","terminal","AttachmentReference","document","metadata"],"mappings":"4OAwBA,IAAKA,GAAAA,IACHA,EAAAA,EAAA,KAAA,CAAA,EAAA,OACAA,EAAAA,EAAA,MAAA,CAAA,EAAA,QACAA,EAAAA,EAAA,SAAA,CAAA,EAAA,WACAA,EAAAA,EAAA,WAAA,CAAA,EAAA,aAJGA,IAAAA,GAAA,CAAA,CAAA,EAmBL,MAAMC,CAA6C,CACjD,KAAwB,EAExB,KAEA,YAAYC,EAAc,CACxB,KAAK,KAAOA,CACd,CACF,CAMA,MAAMC,CAA8C,CAClD,KAAyB,EACzB,KACA,MAEA,YAAYC,KAAyBC,EAAiB,CACpD,KAAK,KAAOD,EACZ,KAAK,MAAQC,CACf,CACF,CAMA,MAAMC,CAAiD,CACrD,KAA4B,EAC5B,MACA,KAMA,SAEA,YAAYJ,EAAcK,EAAwBC,EAAoB,CACpE,KAAK,MAAQD,EACb,KAAK,KAAOL,EACZ,KAAK,SAAWM,GAAY,EAC9B,CACF,CAMA,MAAMC,CAAmD,CACvD,KAA8B,EAC9B,KACA,SAIiB,UASjB,YACEP,EACAQ,EACAC,EACA,CACA,KAAK,KAAOT,EACZ,KAAK,SAAWQ,EAChB,KAAK,UAAYC,GAAY,CAAA,CAC/B,CAEA,IAAI,UAAmC,CACrC,OAAO,KAAK,SACd,CACF"}