<?xml version="1.0" encoding="ISO-8859-1"?>

<xwikidoc>
<web>Panels</web>
<name>HomePageEditor</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent></parent>
<creator>XWiki.Admin</creator>
<author>xwiki:XWiki.LudovicDubost</author>
<customClass></customClass>
<contentAuthor></contentAuthor>
<creationDate>1157125020000</creationDate>
<date>1157324430000</date>
<contentUpdateDate>1162854463000</contentUpdateDate>
<version>1.84</version>
<title></title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<attachment>
<filename>ieemu.js</filename>
<filesize>8412</filesize>
<author>XWiki.Admin</author>
<date>1162854514000</date>
<version>1.3</version>
<comment></comment>
<content>LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXAp8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJRSBFbXUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8CnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwKfCAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGVkIGJ5IEVyaWsgQXJ2aWRzc29uICAgICAgICAgICAgICAgICAgICAgICAgICAgfAp8ICAgICAgICAgICAgICAgICAgKGh0dHA6Ly93ZWJmeC5lYWUubmV0L2NvbnRhY3QuaHRtbCNlcmlrKSAgICAgICAgICAgICAgICAgICB8CnwgICAgICAgICAgICAgICAgICAgICAgRm9yIFdlYkZYIChodHRwOi8vd2ViZnguZWFlLm5ldC8pICAgICAgICAgICAgICAgICAgICAgIHwKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfAp8IEEgZW11bGF0aW9uIG9mIEludGVybmV0IEV4cGxvcmVyIERIVE1MIE9iamVjdCBNb2RlbCBmb3IgTW96aWxsYSAgfAp8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18CnwgICAgICAgICAgICAgICAgICBDb3B5cmlnaHQgKGMpIDE5OTkgLSAyMDA0IEVyaWsgQXJ2aWRzc29uICAgICAgICAgICAgICAgICAgIHwKfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfAoqLwoKaWYgKEJyb3dzZXIuaXNNb3ppbGxhKSB7IC8vIHNldCB1cCBpZSBlbnZpcm9ubWVudCBmb3IgTW96CgkKCWV4dGVuZEV2ZW50T2JqZWN0KCk7CgllbXVsYXRlQXR0YWNoRXZlbnQoKTsKCWVtdWxhdGVFdmVudEhhbmRsZXJzKFsiY2xpY2siLCAiZGJsY2xpY2siLCAibW91c2VvdmVyIiwgIm1vdXNlb3V0IiwKCQkJCQkJCSJtb3VzZWRvd24iLCAibW91c2V1cCIsICJtb3VzZW1vdmUiLAoJCQkJCQkJImtleWRvd24iLCAia2V5cHJlc3MiLCAia2V5dXAiXSk7CgllbXVsYXRlQ3VycmVudFN0eWxlKCk7CgllbXVsYXRlSFRNTE1vZGVsKCk7CgkvKmVtdWxhdGVEb2N1bWVudEFsbCgpOwoJZW11bGF0ZUVsZW1lbnQoKQoJKi8KCgkvLyBJdCBpcyBiZXR0ZXIgdG8gdXNlIGEgY29uc3RhbnQgZm9yIGV2ZW50LmJ1dHRvbgoJRXZlbnQuTEVGVCA9IDA7CglFdmVudC5NSURETEUgPSAxOwoJRXZlbnQuUklHSFQgPSAyOwp9CmVsc2UgewoJRXZlbnQgPSB7fTsKCS8vIElFIGlzIHJldHVybmluZyB3cm9uZyBidXR0b24gbnVtYmVyCglFdmVudC5MRUZUID0gMTsKCUV2ZW50Lk1JRERMRSA9IDQ7CglFdmVudC5SSUdIVCA9IDI7Cn0KCgoKLyoKICogRXh0ZW5kcyB0aGUgZXZlbnQgb2JqZWN0IHdpdGggc3JjRWxlbWVudCwgY2FuY2VsQnViYmxlLCByZXR1cm5WYWx1ZSwKICogZnJvbUVsZW1lbnQgYW5kIHRvRWxlbWVudAogKi8KZnVuY3Rpb24gZXh0ZW5kRXZlbnRPYmplY3QoKSB7CglFdmVudC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXygicmV0dXJuVmFsdWUiLCBmdW5jdGlvbiAoYikgewoJCWlmICghYikgdGhpcy5wcmV2ZW50RGVmYXVsdCgpOwoJCXJldHVybiBiOwoJfSk7CgoJRXZlbnQucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oImNhbmNlbEJ1YmJsZSIsIGZ1bmN0aW9uIChiKSB7CgkJaWYgKGIpIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7CgkJcmV0dXJuIGI7Cgl9KTsKCglFdmVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygic3JjRWxlbWVudCIsIGZ1bmN0aW9uICgpIHsKCQl2YXIgbm9kZSA9IHRoaXMudGFyZ2V0OwoJCXdoaWxlIChub2RlLm5vZGVUeXBlICE9IDEpIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgkJcmV0dXJuIG5vZGU7Cgl9KTsKCglFdmVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygiZnJvbUVsZW1lbnQiLCBmdW5jdGlvbiAoKSB7CgkJdmFyIG5vZGU7CgkJaWYgKHRoaXMudHlwZSA9PSAibW91c2VvdmVyIikKCQkJbm9kZSA9IHRoaXMucmVsYXRlZFRhcmdldDsKCQllbHNlIGlmICh0aGlzLnR5cGUgPT0gIm1vdXNlb3V0IikKCQkJbm9kZSA9IHRoaXMudGFyZ2V0OwoJCWlmICghbm9kZSkgcmV0dXJuOwoJCXdoaWxlIChub2RlLm5vZGVUeXBlICE9IDEpIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgkJcmV0dXJuIG5vZGU7Cgl9KTsKCglFdmVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygidG9FbGVtZW50IiwgZnVuY3Rpb24gKCkgewoJCXZhciBub2RlOwoJCWlmICh0aGlzLnR5cGUgPT0gIm1vdXNlb3V0IikKCQkJbm9kZSA9IHRoaXMucmVsYXRlZFRhcmdldDsKCQllbHNlIGlmICh0aGlzLnR5cGUgPT0gIm1vdXNlb3ZlciIpCgkJCW5vZGUgPSB0aGlzLnRhcmdldDsKCQlpZiAoIW5vZGUpIHJldHVybjsKCQl3aGlsZSAobm9kZS5ub2RlVHlwZSAhPSAxKSBub2RlID0gbm9kZS5wYXJlbnROb2RlOwoJCXJldHVybiBub2RlOwoJfSk7CgoJRXZlbnQucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oIm9mZnNldFgiLCBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMubGF5ZXJYOwoJfSk7CglFdmVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygib2Zmc2V0WSIsIGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gdGhpcy5sYXllclk7Cgl9KTsKfQoKLyoKICogRW11bGF0ZXMgZWxlbWVudC5hdHRhY2hFdmVudCBhcyB3ZWxsIGFzIGRldGFjaEV2ZW50CiAqLwpmdW5jdGlvbiBlbXVsYXRlQXR0YWNoRXZlbnQoKSB7CglIVE1MRG9jdW1lbnQucHJvdG90eXBlLmF0dGFjaEV2ZW50ID0KCUhUTUxFbGVtZW50LnByb3RvdHlwZS5hdHRhY2hFdmVudCA9IGZ1bmN0aW9uIChzVHlwZSwgZkhhbmRsZXIpIHsKCQl2YXIgc2hvcnRUeXBlTmFtZSA9IHNUeXBlLnJlcGxhY2UoL29uLywgIiIpOwoJCWZIYW5kbGVyLl9pZUVtdUV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7CgkJCXdpbmRvdy5ldmVudCA9IGU7CgkJCXJldHVybiBmSGFuZGxlcigpOwoJCX07CgkJdGhpcy5hZGRFdmVudExpc3RlbmVyKHNob3J0VHlwZU5hbWUsIGZIYW5kbGVyLl9pZUVtdUV2ZW50SGFuZGxlciwgZmFsc2UpOwoJfTsKCglIVE1MRG9jdW1lbnQucHJvdG90eXBlLmRldGFjaEV2ZW50ID0KCUhUTUxFbGVtZW50LnByb3RvdHlwZS5kZXRhY2hFdmVudCA9IGZ1bmN0aW9uIChzVHlwZSwgZkhhbmRsZXIpIHsKCQl2YXIgc2hvcnRUeXBlTmFtZSA9IHNUeXBlLnJlcGxhY2UoL29uLywgIiIpOwoJCWlmICh0eXBlb2YgZkhhbmRsZXIuX2llRW11RXZlbnRIYW5kbGVyID09ICJmdW5jdGlvbiIpCgkJCXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihzaG9ydFR5cGVOYW1lLCBmSGFuZGxlci5faWVFbXVFdmVudEhhbmRsZXIsIGZhbHNlKTsKCQllbHNlCgkJCXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihzaG9ydFR5cGVOYW1lLCBmSGFuZGxlciwgdHJ1ZSk7Cgl9Owp9CgovKgogKiBUaGlzIGZ1bmN0aW9uIGJpbmRzIHRoZSBldmVudCBvYmplY3QgcGFzc2VkIGFsb25nIGluIGFuCiAqIGV2ZW50IHRvIHdpbmRvdy5ldmVudAogKi8KZnVuY3Rpb24gZW11bGF0ZUV2ZW50SGFuZGxlcnMoZXZlbnROYW1lcykgewoJZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudE5hbWVzLmxlbmd0aDsgaSsrKSB7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWVzW2ldLCBmdW5jdGlvbiAoZSkgewoJCQl3aW5kb3cuZXZlbnQgPSBlOwoJCX0sIHRydWUpOwkvLyB1c2luZyBjYXB0dXJlCgl9Cn0KCi8qCiAqIFNpbXBsZSBlbXVsYXRpb24gb2YgZG9jdW1lbnQuYWxsCiAqIHRoaXMgb25lIGlzIGZhciBmcm9tIGNvbXBsZXRlLiBCZSBjYXV0aW91cwogKi8KCmZ1bmN0aW9uIGVtdWxhdGVBbGxNb2RlbCgpIHsKCXZhciBhbGxHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7CgkJdmFyIGEgPSB0aGlzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIik7CgkJdmFyIG5vZGUgPSB0aGlzOwoJCWEudGFncyA9IGZ1bmN0aW9uIChzVGFnTmFtZSkgewoJCQlyZXR1cm4gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShzVGFnTmFtZSk7CgkJfTsKCQlyZXR1cm4gYTsKCX07CglIVE1MRG9jdW1lbnQucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oImFsbCIsIGFsbEdldHRlcik7CglIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygiYWxsIiwgYWxsR2V0dGVyKTsKfQoKZnVuY3Rpb24gZXh0ZW5kRWxlbWVudE1vZGVsKCkgewoJSFRNTEVsZW1lbnQucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oInBhcmVudEVsZW1lbnQiLCBmdW5jdGlvbiAoKSB7CgkJaWYgKHRoaXMucGFyZW50Tm9kZSA9PSB0aGlzLm93bmVyRG9jdW1lbnQpIHJldHVybiBudWxsOwoJCXJldHVybiB0aGlzLnBhcmVudE5vZGU7Cgl9KTsKCglIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygiY2hpbGRyZW4iLCBmdW5jdGlvbiAoKSB7CgkJdmFyIHRtcCA9IFtdOwoJCXZhciBqID0gMDsKCQl2YXIgbjsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykgewoJCQluID0gdGhpcy5jaGlsZE5vZGVzW2ldOwoJCQlpZiAobi5ub2RlVHlwZSA9PSAxKSB7CgkJCQl0bXBbaisrXSA9IG47CgkJCQlpZiAobi5uYW1lKSB7CS8vIG5hbWVkIGNoaWxkcmVuCgkJCQkJaWYgKCF0bXBbbi5uYW1lXSkKCQkJCQkJdG1wW24ubmFtZV0gPSBbXTsKCQkJCQl0bXBbbi5uYW1lXVt0bXBbbi5uYW1lXS5sZW5ndGhdID0gbjsKCQkJCX0KCQkJCWlmIChuLmlkKQkJLy8gY2hpbGQgd2l0aCBpZAoJCQkJCXRtcFtuLmlkXSA9IG4KCQkJfQoJCX0KCQlyZXR1cm4gdG1wOwoJfSk7CgoJSFRNTEVsZW1lbnQucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKG9FbCkgewoJCWlmIChvRWwgPT0gdGhpcykgcmV0dXJuIHRydWU7CgkJaWYgKG9FbCA9PSBudWxsKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIHRoaXMuY29udGFpbnMob0VsLnBhcmVudE5vZGUpOwoJfTsKfQoKZnVuY3Rpb24gZW11bGF0ZUN1cnJlbnRTdHlsZSgpIHsKCUhUTUxFbGVtZW50LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKCJjdXJyZW50U3R5bGUiLCBmdW5jdGlvbiAoKSB7CgkJcmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMsIG51bGwpOwoJCS8qCgkJdmFyIGNzID0ge307CgkJdmFyIGVsID0gdGhpczsKCQlmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHsKCQkJY3MuX19kZWZpbmVHZXR0ZXJfXyhwcm9wZXJ0aWVzW2ldLCBlbmNhcHN1bGF0ZU9iamVjdHMoZWwsIHByb3BlcnRpZXNbaV0pKTsKCQl9CgkJcmV0dXJuIGNzOwoJCSovCgl9KTsKfQoKZnVuY3Rpb24gZW11bGF0ZUhUTUxNb2RlbCgpIHsKCgkvLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gZ2VuZXJhdGUgYSBodG1sIHN0cmluZyBmb3IgdGhlIHRleHQgcHJvcGVydGllcy9tZXRob2RzCgkvLyBJdCByZXBsYWNlcyAnXG4nIHdpdGggIjxCUiI+IGFzIHdlbGwgYXMgZml4ZXMgY29uc2VjdXRpdmUgd2hpdGUgc3BhY2VzCgkvLyBJdCBhbHNvIHJlcGFsYWNlcyBzb21lIHNwZWNpYWwgY2hhcmFjdGVycwoJZnVuY3Rpb24gY29udmVydFRleHRUb0hUTUwocykgewoJCXMgPSBzLnJlcGxhY2UoL1wmL2csICImYW1wOyIpLnJlcGxhY2UoLzwvZywgIiZsdDsiKS5yZXBsYWNlKC8+L2csICImZ3Q7IikucmVwbGFjZSgvXG4vZywgIjxCUj4iKTsKCQl3aGlsZSAoL1xzXHMvLnRlc3QocykpCgkJCXMgPSBzLnJlcGxhY2UoL1xzXHMvLCAiJm5ic3A7ICIpOwoJCXJldHVybiBzLnJlcGxhY2UoL1xzL2csICIgIik7Cgl9CgoJSFRNTEVsZW1lbnQucHJvdG90eXBlLmluc2VydEFkamFjZW50SFRNTCA9IGZ1bmN0aW9uIChzV2hlcmUsIHNIVE1MKSB7CgkJdmFyIGRmOwkvLyA6IERvY3VtZW50RnJhZ21lbnQKCQl2YXIgciA9IHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoKCQlzd2l0Y2ggKFN0cmluZyhzV2hlcmUpLnRvTG93ZXJDYXNlKCkpIHsKCQkJY2FzZSAiYmVmb3JlYmVnaW4iOgoJCQkJci5zZXRTdGFydEJlZm9yZSh0aGlzKTsKCQkJCWRmID0gci5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoc0hUTUwpOwoJCQkJdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkZiwgdGhpcyk7CgkJCQlicmVhazsKCgkJCWNhc2UgImFmdGVyYmVnaW4iOgoJCQkJci5zZWxlY3ROb2RlQ29udGVudHModGhpcyk7CgkJCQlyLmNvbGxhcHNlKHRydWUpOwoJCQkJZGYgPSByLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzSFRNTCk7CgkJCQl0aGlzLmluc2VydEJlZm9yZShkZiwgdGhpcy5maXJzdENoaWxkKTsKCQkJCWJyZWFrOwoKCQkJY2FzZSAiYmVmb3JlZW5kIjoKCQkJCXIuc2VsZWN0Tm9kZUNvbnRlbnRzKHRoaXMpOwoJCQkJci5jb2xsYXBzZShmYWxzZSk7CgkJCQlkZiA9IHIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHNIVE1MKTsKCQkJCXRoaXMuYXBwZW5kQ2hpbGQoZGYpOwoJCQkJYnJlYWs7CgoJCQljYXNlICJhZnRlcmVuZCI6CgkJCQlyLnNldFN0YXJ0QWZ0ZXIodGhpcyk7CgkJCQlkZiA9IHIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHNIVE1MKTsKCQkJCXRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZGYsIHRoaXMubmV4dFNpYmxpbmcpOwoJCQkJYnJlYWs7CgkJfQoJfTsKCglIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXygib3V0ZXJIVE1MIiwgZnVuY3Rpb24gKHNIVE1MKSB7CgkgICB2YXIgciA9IHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoJICAgci5zZXRTdGFydEJlZm9yZSh0aGlzKTsKCSAgIHZhciBkZiA9IHIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHNIVE1MKTsKCSAgIHRoaXMucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZGYsIHRoaXMpOwoKCSAgIHJldHVybiBzSFRNTDsKCX0pOwoKCUhUTUxFbGVtZW50LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKCJjYW5IYXZlQ2hpbGRyZW4iLCBmdW5jdGlvbiAoKSB7CgkJc3dpdGNoICh0aGlzLnRhZ05hbWUpIHsKCQkJY2FzZSAiQVJFQSI6CgkJCWNhc2UgIkJBU0UiOgoJCQljYXNlICJCQVNFRk9OVCI6CgkJCWNhc2UgIkNPTCI6CgkJCWNhc2UgIkZSQU1FIjoKCQkJY2FzZSAiSFIiOgoJCQljYXNlICJJTUciOgoJCQljYXNlICJCUiI6CgkJCWNhc2UgIklOUFVUIjoKCQkJY2FzZSAiSVNJTkRFWCI6CgkJCWNhc2UgIkxJTksiOgoJCQljYXNlICJNRVRBIjoKCQkJY2FzZSAiUEFSQU0iOgoJCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQlyZXR1cm4gdHJ1ZTsKCX0pOwoKCUhUTUxFbGVtZW50LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKCJvdXRlckhUTUwiLCBmdW5jdGlvbiAoKSB7CgkJdmFyIGF0dHIsIGF0dHJzID0gdGhpcy5hdHRyaWJ1dGVzOwoJCXZhciBzdHIgPSAiPCIgKyB0aGlzLnRhZ05hbWU7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykgewoJCQlhdHRyID0gYXR0cnNbaV07CgkJCWlmIChhdHRyLnNwZWNpZmllZCkKCQkJCXN0ciArPSAiICIgKyBhdHRyLm5hbWUgKyAnPSInICsgYXR0ci52YWx1ZSArICciJzsKCQl9CgkJaWYgKCF0aGlzLmNhbkhhdmVDaGlsZHJlbikKCQkJcmV0dXJuIHN0ciArICI+IjsKCgkJcmV0dXJuIHN0ciArICI+IiArIHRoaXMuaW5uZXJIVE1MICsgIjwvIiArIHRoaXMudGFnTmFtZSArICI+IjsKCX0pOwoKCglIVE1MRWxlbWVudC5wcm90b3R5cGUuX19kZWZpbmVTZXR0ZXJfXygiaW5uZXJUZXh0IiwgZnVuY3Rpb24gKHNUZXh0KSB7CgkJdGhpcy5pbm5lckhUTUwgPSBjb252ZXJ0VGV4dFRvSFRNTChzVGV4dCk7CgkJcmV0dXJuIHNUZXh0OwoJfSk7CgoJdmFyIHRtcEdldDsKCUhUTUxFbGVtZW50LnByb3RvdHlwZS5fX2RlZmluZUdldHRlcl9fKCJpbm5lclRleHQiLCB0bXBHZXQgPSBmdW5jdGlvbiAoKSB7CgkJdmFyIHIgPSB0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKCQlyLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzKTsKCQlyZXR1cm4gci50b1N0cmluZygpOwoJfSk7CgoJSFRNTEVsZW1lbnQucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oIm91dGVyVGV4dCIsIGZ1bmN0aW9uIChzVGV4dCkgewoJCXRoaXMub3V0ZXJIVE1MID0gY29udmVydFRleHRUb0hUTUwoc1RleHQpOwoJCXJldHVybiBzVGV4dDsKCX0pOwoJSFRNTEVsZW1lbnQucHJvdG90eXBlLl9fZGVmaW5lR2V0dGVyX18oIm91dGVyVGV4dCIsIHRtcEdldCk7CgoJSFRNTEVsZW1lbnQucHJvdG90eXBlLmluc2VydEFkamFjZW50VGV4dCA9IGZ1bmN0aW9uIChzV2hlcmUsIHNUZXh0KSB7CgkJdGhpcy5pbnNlcnRBZGphY2VudEhUTUwoc1doZXJlLCBjb252ZXJ0VGV4dFRvSFRNTChzVGV4dCkpOwoJfTsKfQoK</content>
</attachment>
<attachment>
<filename>toolTip.js</filename>
<filesize>2718</filesize>
<author>XWiki.Admin</author>
<date>1162854516000</date>
<version>1.3</version>
<comment></comment>
<content>LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiogQ29vbCBESFRNTCB0b29sdGlwIHNjcmlwdC0gqSBEeW5hbWljIERyaXZlIERIVE1MIGNvZGUgbGlicmFyeSAod3d3LmR5bmFtaWNkcml2ZS5jb20pCiogVGhpcyBub3RpY2UgTVVTVCBzdGF5IGludGFjdCBmb3IgbGVnYWwgdXNlCiogVmlzaXQgRHluYW1pYyBEcml2ZSBhdCBodHRwOi8vd3d3LmR5bmFtaWNkcml2ZS5jb20vIGZvciBmdWxsIHNvdXJjZSBjb2RlCioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKdmFyIG9mZnNldHhwb2ludD0tNjAgLy9DdXN0b21pemUgeCBvZmZzZXQgb2YgdG9vbHRpcAp2YXIgb2Zmc2V0eXBvaW50PTIwIC8vQ3VzdG9taXplIHkgb2Zmc2V0IG9mIHRvb2x0aXAKdmFyIGllPWRvY3VtZW50LmFsbAp2YXIgbnM2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkICYmICFkb2N1bWVudC5hbGwKdmFyIGVuYWJsZXRpcD1mYWxzZQppZiAoaWV8fG5zNikKdmFyIHRpcG9iaj1kb2N1bWVudC5hbGw/IGRvY3VtZW50LmFsbFsiZGh0bWx0b29sdGlwIl0gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZD8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRodG1sdG9vbHRpcCIpIDogIiIKCmZ1bmN0aW9uIGlldHJ1ZWJvZHkoKXsKCXJldHVybiAoZG9jdW1lbnQuY29tcGF0TW9kZSAmJiBkb2N1bWVudC5jb21wYXRNb2RlIT0iQmFja0NvbXBhdCIpPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5ib2R5Cn0KCmZ1bmN0aW9uIHNob3d0aXAobm9kZSwgdHh0LCB3LCBhbGlnbil7Cglkb2N1bWVudC5vbm1vdXNlbW92ZT1wb3NpdGlvbnRpcDsKCW5vZGUub25tb3VzZW91dCA9IGhpZGVkZHJpdmV0aXA7CgkvL25vZGUub25jbGljayA9IGhpZGVkZHJpdmV0aXA7CglpZiAobnM2fHxpZSl7CQkKCQl0aXBvYmouc3R5bGUudGV4dEFsaWduPWFsaWduOwoJCXRpcG9iai5pbm5lckhUTUw9dHh0OwoJCWlmICh0aXBvYmoub2Zmc2V0V2lkdGg+dykgdGlwb2JqLnN0eWxlLndpZHRoPXcrInB4IjsKCQllbmFibGV0aXA9dHJ1ZTsKCQlyZXR1cm4gZmFsc2UKCX0KfQoKZnVuY3Rpb24gcG9zaXRpb250aXAoZSl7CglpZiAoZW5hYmxldGlwKXsKCQl2YXIgY3VyWD0obnM2KT9lLnBhZ2VYIDogZXZlbnQueCtpZXRydWVib2R5KCkuc2Nyb2xsTGVmdDsKCQl2YXIgY3VyWT0obnM2KT9lLnBhZ2VZIDogZXZlbnQueStpZXRydWVib2R5KCkuc2Nyb2xsVG9wOwoJCS8vRmluZCBvdXQgaG93IGNsb3NlIHRoZSBtb3VzZSBpcyB0byB0aGUgY29ybmVyIG9mIHRoZSB3aW5kb3cKCQl2YXIgcmlnaHRlZGdlPWllJiYhd2luZG93Lm9wZXJhPyBpZXRydWVib2R5KCkuY2xpZW50V2lkdGgtZXZlbnQuY2xpZW50WC1vZmZzZXR4cG9pbnQgOiB3aW5kb3cuaW5uZXJXaWR0aC1lLmNsaWVudFgtb2Zmc2V0eHBvaW50LTIwCgkJdmFyIGJvdHRvbWVkZ2U9aWUmJiF3aW5kb3cub3BlcmE/IGlldHJ1ZWJvZHkoKS5jbGllbnRIZWlnaHQtZXZlbnQuY2xpZW50WS1vZmZzZXR5cG9pbnQgOiB3aW5kb3cuaW5uZXJIZWlnaHQtZS5jbGllbnRZLW9mZnNldHlwb2ludC0yMAoJCQoJCXZhciBsZWZ0ZWRnZT0ob2Zmc2V0eHBvaW50PDApPyBvZmZzZXR4cG9pbnQqKC0xKSA6IC0xMDAwCgkJCgkJLy9pZiB0aGUgaG9yaXpvbnRhbCBkaXN0YW5jZSBpc24ndCBlbm91Z2ggdG8gYWNjb21vZGF0ZSB0aGUgd2lkdGggb2YgdGhlIGNvbnRleHQgbWVudQoJCWlmIChyaWdodGVkZ2U8dGlwb2JqLm9mZnNldFdpZHRoKQoJCS8vbW92ZSB0aGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgbWVudSB0byB0aGUgbGVmdCBieSBpdCdzIHdpZHRoCgkJdGlwb2JqLnN0eWxlLmxlZnQ9aWU/IGlldHJ1ZWJvZHkoKS5zY3JvbGxMZWZ0K2V2ZW50LmNsaWVudFgtdGlwb2JqLm9mZnNldFdpZHRoKyJweCIgOiB3aW5kb3cucGFnZVhPZmZzZXQrZS5jbGllbnRYLXRpcG9iai5vZmZzZXRXaWR0aCsicHgiCgkJZWxzZSBpZiAoY3VyWDxsZWZ0ZWRnZSkKCQl0aXBvYmouc3R5bGUubGVmdD0iNXB4IgoJCWVsc2UKCQkvL3Bvc2l0aW9uIHRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBtZW51IHdoZXJlIHRoZSBtb3VzZSBpcyBwb3NpdGlvbmVkCgkJdGlwb2JqLnN0eWxlLmxlZnQ9Y3VyWCtvZmZzZXR4cG9pbnQrInB4IgoJCQoJCS8vc2FtZSBjb25jZXB0IHdpdGggdGhlIHZlcnRpY2FsIHBvc2l0aW9uCgkJaWYgKGJvdHRvbWVkZ2U8dGlwb2JqLm9mZnNldEhlaWdodCkKCQl0aXBvYmouc3R5bGUudG9wPWllPyBpZXRydWVib2R5KCkuc2Nyb2xsVG9wK2V2ZW50LmNsaWVudFktdGlwb2JqLm9mZnNldEhlaWdodC1vZmZzZXR5cG9pbnQrInB4IiA6IHdpbmRvdy5wYWdlWU9mZnNldCtlLmNsaWVudFktdGlwb2JqLm9mZnNldEhlaWdodC1vZmZzZXR5cG9pbnQrInB4IgoJCWVsc2UKCQl0aXBvYmouc3R5bGUudG9wPWN1clkrb2Zmc2V0eXBvaW50KyJweCIKCQl0aXBvYmouc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIKCX0KfQoKZnVuY3Rpb24gaGlkZWRkcml2ZXRpcCgpewoJZG9jdW1lbnQub25tb3VzZW1vdmU9bnVsbDsKCWlmIChuczZ8fGllKXsKCQllbmFibGV0aXA9ZmFsc2UKCQl0aXBvYmouc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIgoJCXRpcG9iai5zdHlsZS5sZWZ0PSItMTAwMHB4IgoJCXRpcG9iai5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9JycKCQl0aXBvYmouc3R5bGUud2lkdGg9JycKCX0KfQoK</content>
</attachment>
<attachment>
<filename>Drag.js</filename>
<filesize>1473</filesize>
<author>XWiki.Admin</author>
<date>1162854517000</date>
<version>1.3</version>
<comment></comment>
<content>dmFyIERyYWc9ewogICAgICAgICJvYmoiOm51bGwsCgkiaW5pdCI6ZnVuY3Rpb24oYSwgYVJvb3QpewoJCQlhLm9ubW91c2Vkb3duPURyYWcuc3RhcnQ7CgkJCWEucm9vdCA9IGFSb290OwoJCQlpZihpc05hTihwYXJzZUludChhLnJvb3Quc3R5bGUubGVmdCkpKWEucm9vdC5zdHlsZS5sZWZ0PSIwcHgiOwoJCQlpZihpc05hTihwYXJzZUludChhLnJvb3Quc3R5bGUudG9wKSkpYS5yb290LnN0eWxlLnRvcD0iMHB4IjsKCQkJYS5yb290Lm9uRHJhZ1N0YXJ0PW5ldyBGdW5jdGlvbigpOwoJCQlhLnJvb3Qub25EcmFnRW5kPW5ldyBGdW5jdGlvbigpOwoJCQlhLnJvb3Qub25EcmFnPW5ldyBGdW5jdGlvbigpOwoJCX0sCgkic3RhcnQiOmZ1bmN0aW9uKGEpewkKCQkJdmFyIGI9RHJhZy5vYmo9dGhpczsKCQkJYT1EcmFnLmZpeEUoYSk7CgkJCXZhciBjPXBhcnNlSW50KGIucm9vdC5zdHlsZS50b3ApOwoJCQl2YXIgZD1wYXJzZUludChiLnJvb3Quc3R5bGUubGVmdCk7CgkJCWIucm9vdC5vbkRyYWdTdGFydChkLGMsYS5jbGllbnRYLGEuY2xpZW50WSk7CgkJCWIubGFzdE1vdXNlWD1hLmNsaWVudFg7CgkJCWIubGFzdE1vdXNlWT1hLmNsaWVudFk7CgkJCWRvY3VtZW50Lm9ubW91c2Vtb3ZlPURyYWcuZHJhZzsKCQkJZG9jdW1lbnQub25tb3VzZXVwPURyYWcuZW5kOwoJCQlyZXR1cm4gZmFsc2U7CgkJfSwJCgkiZHJhZyI6ZnVuY3Rpb24oYSl7CgkJCWE9RHJhZy5maXhFKGEpOwoJCQl2YXIgYj1EcmFnLm9iajsKCQkJdmFyIGM9YS5jbGllbnRZOwoJCQl2YXIgZD1hLmNsaWVudFg7CgkJCXZhciBlPXBhcnNlSW50KGIucm9vdC5zdHlsZS50b3ApOwoJCQl2YXIgZj1wYXJzZUludChiLnJvb3Quc3R5bGUubGVmdCk7CgkJCXZhciBoLGc7CgkJCWg9ZitkLWIubGFzdE1vdXNlWDsKCQkJZz1lK2MtYi5sYXN0TW91c2VZOwoJCQliLnJvb3Quc3R5bGUubGVmdD1oKyJweCI7CgkJCWIucm9vdC5zdHlsZS50b3A9ZysicHgiOwkJCQoJCQliLmxhc3RNb3VzZVg9ZDsKCQkJYi5sYXN0TW91c2VZPWM7CgkJCWIucm9vdC5vbkRyYWcoaCxnLGEuY2xpZW50WCxhLmNsaWVudFkpOwoJCQlyZXR1cm4gZmFsc2U7CgkJfSwKCSJlbmQiOmZ1bmN0aW9uKCl7CQkJCgkJCWRvY3VtZW50Lm9ubW91c2Vtb3ZlPW51bGw7CgkJCWRvY3VtZW50Lm9ubW91c2V1cD1udWxsOwoJCQlEcmFnLm9iai5yb290Lm9uRHJhZ0VuZChwYXJzZUludChEcmFnLm9iai5yb290LnN0eWxlLmxlZnQpLHBhcnNlSW50KERyYWcub2JqLnJvb3Quc3R5bGUudG9wKSk7CgkJCURyYWcub2JqPW51bGw7CgkJfSwKCSJmaXhFIjpmdW5jdGlvbihhKXsKCQkJaWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKWE9d2luZG93LmV2ZW50OwoJCQlpZih0eXBlb2YgYS5sYXllclg9PSJ1bmRlZmluZWQiKWEubGF5ZXJYPWEub2Zmc2V0WDsKCQkJaWYodHlwZW9mIGEubGF5ZXJZPT0idW5kZWZpbmVkIilhLmxheWVyWT1hLm9mZnNldFk7CgkJCXJldHVybiBhOwoJCX0KfTsK</content>
</attachment>
<content>#set($showdata = 0)
#if($xwiki.hasAdminRights())
1 Panel Editor

You can drag and drop panels to rearrange them. To drag a panel, use your mouse and click on the header of the panel. Keep your left mouse button down while you move your mouse and the panel at the same time. While you move the panel you will see in real-time where the panel will be dropped when you releave your left mouse button.

You can add or remove panels by dragging them from the list of available panels to one of the columns or from the column into the list, respectively.

1.1 Available Panels

#set ($sql = ", BaseObject as obj where obj.name=doc.fullName and obj.className='Panels.PanelClass' and doc.fullName!='Panels.PanelTemplate'")
&lt;table&gt;
&lt;tr&gt;&lt;th&gt;Panel&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;
#foreach ($item in $xwiki.searchDocuments($sql))
#set($obj = $xwiki.getDocument($item).getObject("Panels.PanelClass"))
#if($obj.type == 'view')
&lt;tr&gt;
&lt;td class="verysmall"&gt;#includeTopic("$item")&lt;/td&gt;
&lt;td&gt;$obj.description&lt;/td&gt;
&lt;/tr&gt;
#end
#end
&lt;/table&gt;
1.1 Create

#includeTopic("Panels.CreatePanel")

&lt;a href="javascript:void()" onclick="save(); return false;"&gt;Save you new layout&lt;/a&gt;     

{pre}
#set($ajaxdoc = $xwiki.getDocument("Panels.AjaxEditor"))
#set($ajaxurl = $xwiki.getURL("Panels.HomePageUpdate", "view", "xpage=plain&amp;place=${request.place}"))
&lt;script type="text/javascript" src="$ajaxdoc.getAttachmentURL("Drag.js","download")"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="$ajaxdoc.getAttachmentURL("ieemu.js","download")"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="$ajaxdoc.getAttachmentURL("toolTip.js","download")"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var tipobj=document.all? document.all["dhtmltooltip"] : document.getElementById? document.getElementById("dhtmltooltip") : ""

var parentNode;
var realParent;
var dragel = document.createElement("div");
dragel.id = "dragbox";
dragel.className = "panel";
var dragWidth = 0;
var nb = 0;

var leftPanels = document.getElementById("leftPanels");
var rightPanels = document.getElementById("rightPanels");

var leftPanelsRight = getX(leftPanels) + leftPanels.style.width;
var rightPanelsLeft = getX(rightPanels)

function debugwrite(sometext){
  document.getElementById("headerglobal").appendChild(
document.createTextNode(sometext));
}

function isPanel(el){
  if (el.className &amp;&amp; ((el.className == "panel") || (el.className.indexOf("panel ") &gt;=0) || (el.className.indexOf(" panel") &gt;=0))){
     return true;
  }
  return false;
}

function getX(el) {
	if (el.offsetParent)
           return el.offsetLeft + getX(el.offsetParent); 
        else {
           if (el.x)
             return el.x;
           else
             return 0;
        }
}
function getY(el) {
	if (el.offsetParent)
           return el.offsetTop + getY(el.offsetParent); 
        else {
           if (el.y)
             return el.y;
           else
             return 0;
        }
}
function getBlocList(el) {
 var list = [];
 var nb = el.childNodes.length;
 for (var i=0; i&lt;nb; i++) {
  var el2 = el.childNodes[i];
  if(isPanel(el2)) {
   if (!el2.isDragging)  {
	list.push(el2);
   }
  }
 }
 return list;
}

function getDragBoxPos(list, y) {
  var nb = list.length;
  if (nb == 0) return 0;
  for (var i=0; i&lt;nb; i++) {
    if (list[i]==dragel)
      return i;
  }
  return 0;
}

function getClosestColumn(x) {
  if (!leftPanels &amp;&amp; !rightPanels) return null;
  if (!leftPanels) return rightPanels;
  if (!rightPanels) return leftPanels;
  if (x - leftPanelsRight &lt; rightPanelsLeft - x) return leftPanels;
  else return rightPanels;
}
function onDragStart(elt,x,y) {
         realParent = elt.parentNode;
         parentNode = elt.parentNode;
         var el;
         // check what to do: cut and drag if it's from one of the columns, or clone and drag if it's from the "all panels" list
         var isAdded = realParent != leftPanels &amp;&amp; realParent != rightPanels;
         if (isAdded){
           el = elt.cloneNode(true);
           attachDragHandler(el);
         }
         else {
           el = elt;
         }
  	 // Make the placeholder the same size
         if (isAdded) {
           var x = getX(elt);
	   var y = getY(elt);
           // Make the current absolute
	   elt.style.left = x + "px";
	   elt.style.top =  y + "px";
           elt.style.zIndex = "10";
           realParent.replaceChild(el, elt);
	   elt.style.position = "absolute";
           document.body.appendChild(elt);
           elt.isDragging = true;
           dragel.style.height = (elt.offsetHeight-2) +"px";
           dragel.style.display = "block";
 	   dragWidth = elt.offsetWidth;
           leftPanels.appendChild(dragel);
           window.prevcolumn = leftPanels;
         }
         else {
           var x = getX(el);
	   var y = getY(el);
           dragel.style.height = (el.offsetHeight-2) +"px";
           dragel.style.display = "block";
 	   dragWidth = el.offsetWidth;
           // Make the current absolute
	   el.style.left = x + "px";
	   el.style.top =  y + "px";
           el.style.zIndex = "10";
           realParent.replaceChild(dragel, elt);
	   el.style.position = "absolute";
           document.body.appendChild(el);
           el.isDragging = true;
           window.prevcolumn = parentNode;
         }
}
function onDrag(el,x,y) {
  parentNode = getClosestColumn(x);
  if(parentNode != window.prevcolumn){
    window.prevcolumn.removeChild(dragel);
    parentNode.appendChild(dragel);
  }
  window.prevcolumn = parentNode;
  var list = getBlocList(parentNode);
  var pos = getDragBoxPos(list, y);
  if (list.length==0){
    parentNode.appendChild(dragel);
  }
  else if (pos!=0 &amp;&amp; y&lt;=getY(list[pos-1])) {
    parentNode.insertBefore(dragel, list[pos-1]);
  }
  else if (pos!=(list.length-1) &amp;&amp; y&gt;=getY(list[pos+1])) {
    if (list[pos+2]) {
      parentNode.insertBefore(dragel, list[pos+2]);
    } else {
      parentNode.appendChild( dragel); 
    }
  }
}
function onDragEnd(el,x,y) {
 	 parentNode.replaceChild(el, dragel);
         dragel.style.display = "hidden";
         el.isDragging = false;
	 el.style.position = "static";
	 el.style.width = dragWidth;
}
//------------------
// threadsafe asynchronous XMLHTTPRequest code
function executeCommand(url, callback) {


    // we use a javascript feature here called "inner functions"
    // using these means the local variables retain their values after the outer function
    // has returned. this is useful for thread safety, so
    // reassigning the onreadystatechange function doesn't stomp over earlier requests.


    function ajaxBindCallback() {
        if (ajaxRequest.readyState == 4) {
            if (ajaxRequest.status == 200) {
                if (ajaxCallback) {
                    ajaxCallback(ajaxRequest.responseText);
                } else {
                    alert('no callback defined');
                }
            } else {
                alert("There was a problem retrieving the xml data:\n" + ajaxRequest.status + ":\t" + ajaxRequest.statusText + "\n" + ajaxRequest.responseText);
            }
        }
    }

    // addMessage(url);
    // use a local variable to hold our request and callback until the inner function is called...
    var ajaxRequest = null;
    var ajaxCallback = callback;

    // bind our callback then hit the server...
    if (window.XMLHttpRequest) {
        // moz et al
        ajaxRequest = new XMLHttpRequest();
        ajaxRequest.onreadystatechange = ajaxBindCallback;
        ajaxRequest.open("GET", url, true);
        ajaxRequest.send(null);
    } else if (window.ActiveXObject) {
        // ie
        ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
        if (ajaxRequest) {
            ajaxRequest.onreadystatechange = ajaxBindCallback;
            ajaxRequest.open("GET", url, true);
            ajaxRequest.send();
        }
        else{
            alert("your browser does not support xmlhttprequest" )
        }

    }
    else{
        alert("your browser does not support xmlhttprequest" )
    }


}
function start1() {
var divs = document.getElementsByTagName("div");
for(var i = 0; i &lt; divs.length; i++) {
  el = divs[i];
  var id = el.id;
  if(isPanel(el)) {
    attachDragHandler(el);
  }
 }
}
function attachDragHandler(el){
    el.ondblclick = function(ev) {};
    Drag.init(el,el);
    el.onDragStart = function (x,y) { onDragStart(this,x,y);};
    el.onDrag = function (x,y) { onDrag(this,x,y);};
    el.onDragEnd = function (x,y) { onDragEnd(this,x,y);};
    var titlebar = el.getElementsByTagName("h5").item(0);
    titlebar.onclick=function(ev) {};
    titlebar.onClick=function(ev) {};  
}
function getBlocIdList(el) {
 var list = "";
 var nb = el.childNodes.length;
 for (var i=0; i&lt;nb; i++) {
  var el2 = el.childNodes[i];
  if(isPanel(el2)) {
   if (!el2.isDragging)  {
        if (list!="")
          list+=",";
	list += el2.id;
   }
  }
 }
 return list;
}
function save() {
 var res = confirm("The Panel Layout saving is in Beta. Please confirm you want to save your layout");
 if (res==true) {
 var leftPanels = document.getElementById("leftPanels");
 url = '$ajaxurl';
 if (leftPanels) {
  var leftPanelsList = getBlocIdList(leftPanels);
  url += "&amp;leftPanels=" + leftPanelsList;
 }
 var rightPanels = document.getElementById("rightPanels");
 if (rightPanels) {
  var rightPanelsList = getBlocIdList(rightPanels);
  url += "&amp;rightPanels=" + rightPanelsList;
 }
 if (navigator.userAgent.indexOf("MSIE")!=-1) {
   alert("MSIE cannot currently save layout properly: " + url);
 } else
  executeCommand(url, saveResult);
 } 
}
function saveResult(html) {
 if(html=="SUCCESS")
  alert("Panels Layout have been saved propertly")
 else {
  alert("An error occured while trying to save the panel layout")
  alert(html)
 }
}

start1();
&lt;/script&gt;
&lt;div id="dhtmltooltip"&gt;&lt;/div&gt;
{/pre}
#else
#xwikimessageboxstart("Panel Editor" "")
You need to be administrator of the Place to use the Home Page Editor
#xwikimessageboxend()
#end</content>
</xwikidoc>
