'use strict';if("undefined"==typeof Effect)throw"accordion.js requires including script.aculo.us' effects.js library!";
var accordion=Class.create({showAccordion:null,currentAccordion:null,duration:null,effects:[],animating:!1,initialize:function(a,d){if(!$(a))throw a+" doesn't exist!";this.options=Object.extend({resizeSpeed:8,classNames:{toggle:"accordion_toggle",toggleActive:"accordion_toggle_active",content:"accordion_content"},defaultSize:{height:null,width:null},direction:"vertical",onEvent:"click"},d||{});this.duration=.15*(11-this.options.resizeSpeed);$$("#"+a+" ."+this.options.classNames.toggle).each(function(b){Event.observe(b,
this.options.onEvent,this.activate.bind(this,b),!1);"click"==this.options.onEvent&&(b.onclick=function(){return!1});var c="horizontal"==this.options.direction?{width:"0px"}:{height:"0px"};Object.extend(c,{display:"none"});this.currentAccordion=$(b.next(0)).setStyle(c)}.bind(this))},activate:function(a){if(this.animating)return!1;this.effects=[];this.currentAccordion=$(a.next(0));this.currentAccordion.setStyle({display:"block"});this.currentAccordion.previous(0).addClassName(this.options.classNames.toggleActive);
this.scaling="horizontal"==this.options.direction?{scaleX:!0,scaleY:!1}:{scaleX:!1,scaleY:!0};this.currentAccordion==this.showAccordion?this.deactivate():this._handleAccordion()},deactivate:function(){var a={duration:this.duration,scaleContent:!1,transition:Effect.Transitions.sinoidal,queue:{position:"end",scope:"accordionAnimation"},scaleMode:{originalHeight:this.options.defaultSize.height?this.options.defaultSize.height:this.currentAccordion.scrollHeight,originalWidth:this.options.defaultSize.width?
this.options.defaultSize.width:this.currentAccordion.scrollWidth},afterFinish:function(){this.showAccordion.setStyle({height:"0px",display:"none"});this.showAccordion=null;this.animating=!1}.bind(this)};Object.extend(a,this.scaling);this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive);new Effect.Scale(this.showAccordion,0,a)},_handleAccordion:function(){var a={sync:!0,scaleFrom:0,scaleContent:!1,transition:Effect.Transitions.sinoidal,scaleMode:{originalHeight:this.options.defaultSize.height?
this.options.defaultSize.height:this.currentAccordion.scrollHeight,originalWidth:this.options.defaultSize.width?this.options.defaultSize.width:this.currentAccordion.scrollWidth}};Object.extend(a,this.scaling);this.effects.push(new Effect.Scale(this.currentAccordion,100,a));this.showAccordion&&(this.showAccordion.previous(0).removeClassName(this.options.classNames.toggleActive),a={sync:!0,scaleContent:!1,transition:Effect.Transitions.sinoidal},Object.extend(a,this.scaling),this.effects.push(new Effect.Scale(this.showAccordion,
0,a)));new Effect.Parallel(this.effects,{duration:this.duration,queue:{position:"end",scope:"accordionAnimation"},beforeStart:function(){this.animating=!0}.bind(this),afterFinish:function(){this.showAccordion&&this.showAccordion.setStyle({display:"none"});this.showAccordion=this.currentAccordion;this.animating=!1}.bind(this)})}});
function createAccordion(a){(new accordion(a.div,{resizeSpeed:10,classNames:{toggle:"accordionTabTitleBar",content:"accordionTabContentBox"},defaultSize:{width:"width"in a?a.width:null,height:"height"in a?a.height:null}})).activate($$("#"+a.div+" .accordionTabTitleBar")[a.no])}
;
//# sourceMappingURL=accordion.min.js.map
